<!DOCTYPE html><html lang="en">
<head>
    <link href="favicon.ico" rel="icon" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Website about vtechnologies Java, Spring, OSGi, Hardware,...">
    <meta name="author" content="Baptiste Wicht">
    <title>@Blog("Baptiste Wicht") (old posts, page 4) | @Blog("Baptiste Wicht")</title>
    
            <link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
      <link rel="canonical" href="http://wichtounet.github.io/index-4.html">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">

    
    
<!--
    <link rel="stylesheet" type="text/css" href="/assets/css/tipuesearch.css">
-->
    
</head>
<body>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid"><!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://wichtounet.github.io/">@Blog("Baptiste Wicht")</a>
        </div><!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                
                <li><a href="stories/about.html">About</a>
                </li><li><a href="stories/publications.html">Publications</a>
                </li><li><a href="stories/donate.html">Donate</a>
                </li><li><a href="stories/contact.html">Contact</a>
                </li><li><a href="stories/faq.html">FAQ</a>
                </li><li><a href="stories/legal.html">Legal</a>
                </li><li><a href="archive.html">Archives</a>
                </li><li><a href="categories/index.html">Tags</a>
                </li><li><a href="rss.xml">RSS</a>

            </li></ul>
            <!--
            <span class="navbar-form pull-left">
                <input type="text" id="tipue_search_input">
            </span>
            -->
            <ul class="nav navbar-nav navbar-right">
                
                
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<!-- End of Menubar -->

<div class="body-container">

    <!-- Sidebar -->

    <div class="left-sidebar">
            <div class="left-sidebar-widget">
                <h3>Welcome to my blog</h3>
                <div class="left-sidebar-widget-content">
                    <p>
                        I'm writing about C++, Linux, Gentoo, Home Servers, etc...
                    </p>
                    <div class="g-person" data-width="275" data-href="//plus.google.com/u/0/103113673902796202116" data-theme="dark" data-layout="landscape" data-rel="author"></div>
                </div>
            </div>

            <div class="left-sidebar-widget">
                <h3>Tags</h3>
                <div class="left-sidebar-widget-content">
                    <div id="tags_container">
                        <canvas width="275" height="250" id="tags_canvas">
                            <p>Anything in here will be replaced on browsers that support the canvas element</p>
                        </canvas>
                    </div>
                </div>
            </div>
        
        <div class="left-sidebar-widget">
            <h3>Recent comments</h3>
            <div class="left-sidebar-widget-content">
                <div id="recentcomments" class="dsq-widget">
                    <script type="text/javascript" src="http://blogwichtounet.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=28&amp;excerpt_length=150"></script>
                </div>
            </div>
        </div>
        
        <div class="left-sidebar-widget">
            <h3>Blogroll</h3>
            <div class="left-sidebar-widget-content">
                <ul>
                    <li><a target="_blank" href="http://www.asjava.com/">AsJava.com : Java Tutorial</a></li>
                    <li><a target="_blank" href="http://www.mkyong.com/">Mkyong : Java Tutorials</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Content -->

    <div class="container">
            <div class="body-content">

            <!-- <div id="tipue_search_content" style="margin-left: auto; margin-right: auto; padding: 20px;"></div> -->

            <div class="row">
                
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/jetbrains-released-intellij-idea-9-0-2.html" class="u-url">JetBrains has released IntelliJ IDEA 9.0.2</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-21T16:34:30+00:00">2010-04-21 16:34</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>IntelliJ Idea 9.0.2<span style="font-weight: normal;"> has just been released. </span></p>
<p>This version includes these new features and improvements : </p>
<ul>
    <li>View vertical indent guides</li>
    <li>New action "Show in Explorer" from the contextual menu</li>
    <li>The detection of the necessity of rebuild project indexes has been improved</li>
    <li>Some code samples have been added for Java, JavaScript and PHP</li>
    <li>The source can be directly attached to decompiled class file from the edit window</li>
    <li>The Java debugger supports autoboxing</li>
    <li>A diff tool for UML</li>
    <li>New consoles for SQL and HQL</li>
    <li>Improvements of the Spring configuration file editor view</li>
    <li>Improvements of the remote projects support</li>
    <li>Stacktrace folding for Groovy code</li>
    <li>Support of GWT 2.0 UIBinder</li>
    <li>Package Adobe AIR applications</li>
    <li>Better support of CSS3</li>
    <li>Tracking of Grails 1.2 Ivy dependencies</li>
    <li>Flex
<ul>
    <li>Live templates for Flex</li>
    <li>Parralel compilation of indenpendent Flex modules</li>
</ul>

<p></p></li>
    <li>PHP
<ul>
    <li>New options for code style programming</li>
    <li>New inspections</li>
    <li>New quickfixes and intentions</li>
</ul>
</li>

</ul>

<p>You can view the<a href="http://confluence.jetbrains.net/display/IDEADEV/IDEA+9.0.2+Release+Notes"> complete release notes  of this new version</a>.</p>
<p>There is no great new features, but the bug fixes and little enhancements make that version really interesting (like all new versions of IntelliJ IDEA).</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/jetbrains-released-intellij-idea-9-0-2.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/jetbrains-released-intellij-idea-9-0-2.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/java-7-new-io-features-asynchronous-operations-multicasting-random-access-with-jsr-203-nio-2.html" class="u-url">Java 7 : New I/O features (Asynchronous operations, multicasting, random access) with JSR 203 (NIO.2)</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-21T06:06:58+00:00">2010-04-21 06:06</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>Like I've said in other post, <a href="http://www.baptiste-wicht.com/2010/03/nio-2-path-api-java-7/">we will have a new API to access File System in Java 7</a>, but we'll have several others new features in NIO.2 that I've not covered</p>
<p>So I'll try to cover them in that post. Indeed the <strong>JSR 203</strong> (also known as <strong>NIO.2</strong>) add several new classes that improve I/O code.</p>
<p>In this post I cover the following features :</p>
<ul>
    <li>SeekableByteChannel : A random access channel</li>
    <li>MulticastChannel : A channel that allow for IP multicasting</li>
    <li>NetworkChannel : The new super interface for the network-oriented channels</li>
    <li>Asynchronous I/O API : The new API to make I/O operations in an asynchronous way.</li>
</ul>

<!--more-->

<p><strong>SeekableByteChannel</strong></p>
<p>First of all, the Java 7 includes a new ByteChannel, the <strong>SeekableByteChannel</strong>. This Channel maintains a current position, so you can read and write from this position. That allows <strong>random access</strong> positions. With that type of Channel, you can even add several threads reading/writing the same threads at different positions.</p>
<div class="code"><pre><span class="err"></span></pre></div></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/java-7-new-io-features-asynchronous-operations-multicasting-random-access-with-jsr-203-nio-2.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/java-7-new-io-features-asynchronous-operations-multicasting-random-access-with-jsr-203-nio-2.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/links-of-the-week-3.html" class="u-url">Links of the week (April 20)</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-20T07:20:28+00:00">2010-04-20 07:20</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>Some interesting links of the week:</p>
<ul>
    <li>Poll Results: <a href="http://java.dzone.com/articles/poll-results-there-future-web" target="_blank">We're Not Quite Ready For Web Based IDEs</a> : Interesting poll results on how the developers are ready about web based IDEs</li>
    <li><a href="http://www.lunatech-research.com/archives/2010/04/12/how-localise-play-framework-web-application" target="_blank">How to localise a Play Framework application</a> : Peter Hilton explain how internationalize a Play! Framework application</li>
    <li><a href="http://sixrevisions.com/tools/the-top-15-google-products-for-people-who-build-websites/" target="_blank">The Top 15 Google Products for People Who Build Websites </a></li>
    <li><a href="http://mcoj.wordpress.com/2010/04/18/swinging-task-dialog-part-5/" target="_blank">Swinging Task Dialog (part 5)</a> : Eugene Ryzhikov continue its suite on developing a Swing Task Dialog, adding new functionaly. </li>
    <li><a href="http://www.mkyong.com/java/how-to-determine-a-prime-number-in-java/">How to determine a prime number in Java</a> : An interesting development on how to determine a prime number in an efficent way</li> 
</ul></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/links-of-the-week-3.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/links-of-the-week-3.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/using-substance-look-and-feel-in-osgi.html" class="u-url">Using Substance Look And Feel in OSGi</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-19T12:03:15+00:00">2010-04-19 12:03</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>I experienced some problems with Substance in OSGi. Using this code :</p>
<div class="code"><pre><span class="err"></span></pre></div></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/using-substance-look-and-feel-in-osgi.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/using-substance-look-and-feel-in-osgi.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/java-7-updates-project-coin.html" class="u-url">Java 7 : Languages updates from Project Coin</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-19T06:30:24+00:00">2010-04-19 06:30</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>I continue my posts on the new features of Java 7. In this post, I'll detail the news coming from the Project Coin. This project has computed more than 70 new features proposal from the Java community for integration in Java 7.</p>
<p>In this post, I'll detail the Final Five (or So) features chosen from this project to be included in Java 7.</p>
<h4>Diamond Syntax</h4>

<p>This feature is a really simple syntax improvement for generics. With that feature, you can avoid to write twice the generics type in a generics declaration. A little  example :</p>
<p>Instead of writing this :</p>
<div class="code"><pre><span class="err"></span></pre></div></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/java-7-updates-project-coin.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/java-7-updates-project-coin.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/jtheque-problems-migrating-osgi.html" class="u-url">JTheque : Problems when migrating to OSGi</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-18T10:57:50+00:00">2010-04-18 10:57</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>Like you perhaps know, i'm currently <a title="JTheque is going to OSGi" href="http://www.baptiste-wicht.com/2010/03/jtheque-is-going-to-osgi/" target="_self">migrating JTheque to OSGi</a>. During this migration i found several problems in the JTheque architecture that made the migration impossible without changing some concepts. In this post I'll detail all the problems I found.</p>
<h5>Resources</h5>

<p>First of all, i had to completely change the way to cache resources. Before, i used a ResourceManager to cache images/icons. To get an image/icon, i gave to it the path to the resource and the manager made the rest. I used Spring to load the resources (using the Resource class). That worked well because all the modules and the core were in the same application context.</p>
<p>But now, there is an application context for each OSGi bundle, so that doesn't work at all. So i had to find an other way. The manager cannot load the resources because they're accessible from the other bundles. So I changes the way the manager works :</p>
<ol>
    <li>The modules must register all the resources they need in the resource manager. They can always use Spring to load the resource or direct use the Resource class to load it.</li>
    <li>When the module need an image/icon, it ask the resource manager. The manager watch on the cache (the cache associates the Resource to the loaded image/icon) if the image is already cached. If it's cached, it directly return the image else, it load the image from the resource and return the loaded image</li>
</ol>

<p>In that way, the resource manager doesn't have to access directly to resources on other bundles and everything works well.</p>
<h4>States</h4>

<p>The states are a way to store configuration for the modules. Before, the states must implements an interface and when they we're saved, the class were saved in a file and at startup created by reflection. But that's was not possible anymore, because the class was not accessible from the state bundle.</p>
<p>So I changed the way the data were saved using directly methods of the interface to get the stored data and to restore them at startup. Moreover, I also replaced the interface by annotations.</p>
<h4>Miscellaneous</h4>

<p>More than these other major changes, i've also some others problems :</p>
<ul>
    <li>The JDBC driver class was not accessible. I add the package import to the manifest headers and get the driver version from SpringSource Repository to works with OSGi</li>
    <li>Substance doesn't work anymore. At this time, i don't know i that comes from OSGi or from other changes i made in the application, but i've not solved this problem.</li>
</ul></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/jtheque-problems-migrating-osgi.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/jtheque-problems-migrating-osgi.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/10-most-useful-google-tools.html" class="u-url">10 most useful Google Tools</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-16T06:24:53+00:00">2010-04-16 06:24</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>More than provide an extremely powerful search engine used by almost everybody, <strong>Google</strong> provides also a lot of very useful tools. In this post, i list the 10 most useful Google tools from my point of view.</p>
<h4>1. Gmail</h4>

<p>For me, this is the best email client ever. The interface is quick and reactive and there are many interesting features. The spam filter is really powerful, i have no more spams since i've switched to GMail a long time ago. The storage capacity (~7.4 Go) is also totally enough. Moreover, this client is totally integrated with the other tools of the Google network (Documents, Buzz, Agenda, ...). With the plugins, you can also add several others features to GMail including integrating with other tools like RememberTheMilk by example.</p>
<p>The included chat is also a great functionality. I use it everyday.</p>
<p>No more spam with : <a href="http://www.google.com/mail/" target="_blank">Google Mail</a></p>
<!--more-->

<h4>2. Google Chrome</h4>

<p>Certainly the most efficient browser. The performances of this browser are simply amazing.</p>
<p>There are perhaps less plugins now that in Firefox, but it's a lot more lighter than the others browsers.  The tab system is really well done. If a site crashes, you can simply close the tabs ands that's fine. You can also move a tab to an other window with drag&amp;drop facilities.</p>
<p>In the last months, the number of modules tend to grow quickly and provides the more useful plugins that we could have used in other browsers before switching to Chrome. And Google Chrome support without plugins the synchronization of bookmarks and execution of GreaseMonkey scripts.</p>
<p>And last but not least, this is the most simplistic (not pejorative at all) browser i use and really easy and comfortable to use.</p>
<p>Try it and why not like it : <a href="http://www.google.com/chrome/" target="_blank">Google Chrome</a></p>
<h4>3. Google Analytics</h4>

<p>Google Analytics is a really great web analytics solution. This is the most used solution. This tool is free for website with less than 5 million page views by month or for those who have an AdWords account. The interface is really simple to use but powerful. All the stats are displayed with number metrics and graphs. And, really important, the traffic analyzer is powerful and light. You can even use an asynchronous JavaScript code to produce less overhead on the page load time.</p>
<p>You can create scheduled reports and email it at a specific time rate. You can also analyze only a fragment of the traffic and follow accomplishments of objectives. You can also use Google Analytics from other languages like PHP.</p>
<p>For me, as a webmaster, this tool is completely essential and I cannot live without it (exaggerate, but I use it everyday).</p>
<p>If you try it, you will not regret : <a href="http://www.google.com/analytics/" target="_blank">Google Analytics</a></p>
<h4>4. Google Reader</h4>

<p>Google Reader is a web aggregator to read RSS and Atom. This web application can work in offline mode accessing all the previously downloaded articles.</p>
<p>More to be an aggregator, Google Reader has also social network features. In fact, you can share you favorite articles and comment them. You can access to the shared articles of your friends.</p>
<p>You can create folders to sort your subscriptions by theme (or any kind of sort you  like) and quickly find what's new in any folder. Google Reader can also give you a list of subscriptions take can interest you based on your current subscriptions themes.</p>
<p>Aggregate your RSS and Atom : <a href="http://www.google.com/reader/" target="_blank">Google Reader</a></p>
<h4>5. Google Webmaster Tools</h4>

<p>Google Webmaster Tools is an essential tools for all webmaster. With it, you can manage all your websites.</p>
<p>First of all, you can verify how your site is referenced on Google Search Engine. You can see in which position you are for the most important query for your website. You can see which keywords are the significant for your pages, you can obtain the number of links pointing to your website and to which pages there is the more links. You can also notify Google for updates in your sitemaps. Your internal links are also displayed. You can even consult the Google Reader subcribers to your feeds.</p>
<p>Next, you have also diagnostics about your site. The available diagnostics are the malware detected by the Google robots, crawl errors and crawl stats. Google Webmaster Tools give you some suggestions about your HTML pages.</p>
<p>You will love : <a href="http://www.google.com/webmasters/tools/" target="_blank">Google Webmaster Tools</a></p>
<h4>6. Google Documents</h4>

<p>Google Documents is an online documents sharing application. In that application, you can create and share documents, presentation, spreadsheets, forms and drawings.</p>
<p>More than creating and editing the documents, you  can sharing them to anybody that have a Google Acount. The documents are saved by revisions and you can come back to an older revision or merge some revisions. This a really powerful feature when several persons work on the same documents.</p>
<p>All the type of documents can be edited in Wysiwyg way with powerful editors. You can also upload any files you want to your Google Documents account.</p>
<p>Try : <a href="http://docs.google.com/" target="_blank">Google Documents</a></p>
<h4>7. Google Agenda</h4>

<p>Google Agenda is a simple tools to keep appointments in mind. You have recall for your events.</p>
<p>You can create events and share them to any other Google contacts.</p>
<p>Take a look : <a href="http://www.google.com/calendar" target="_blank">Google Agenda</a></p>
<h4>8. Google Friend Connect</h4>

<p>Google Friend Connect is web tools to add social networking features to a website. You can create a community around your website. The visitors can register to your site with simple widgets and no registration using their Google, Facebook or OpenID accounts.</p>
<p>You can add a lot of widgets to your website, by example to give the users the possibility to rate your contact, ask questions to your visitors or send newsletters to them.</p>
<p>Give it a try : <a href="http://www.google.com/friendconnect/" target="_blank">Google Friend Connect</a></p>
<h4>9. Keyword Tool</h4>

<p>Keyword Tool is an application uuseful to get ideas of keywords for your website or to compare some keywords by Advertiser Competition and Search Volume. That can really help you to choose the keywords you will to focus on to improve the referencing of a website.</p>
<p>You can directly give a page of your website to the program. The page will be inspected for keywords and the tool will give you a list of keywords ideas based on the content of the site. Or you can give a list of keywords you're interested in and the program will compute a list of other keywords based on yours.</p>
<p>I think it's an essential tool for all webmaster that like to improve its websites referencing.</p>
<p>Try it : <a href="https://adwords.google.com/select/KeywordToolExternal" target="_blank">Google Adwords : Keyword Tool</a></p>
<h4>10. Google Language Tools</h4>

<p>Google Language Tools is a simple set of tools to translate text from a language to another. You have several choices : translate some search results, translate a complete web page or translate a given text. There is a lot of available languages. The page give also an access too Google Homepage in all languages. You can note that this tool is integrated with Google Chrome in which you can translate (automatically or manually) pages to your languages with actions in the browser.</p>
<p>Yes, this very simple, but that works well and that's really useful.</p>
<p>Try it : <a href="http://www.google.com/language_tools" target="_blank">Google Language Tools</a></p>
<p>Of course, there is a lot of others powerful Google Tools. Here are only the  most useful from my point of view. Perhaps a photograph will like Picasa, an advertiser will like AdWords and AdSense and Android, Google Maps Navigation and Google SkyMap for a mobile user.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/10-most-useful-google-tools.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/10-most-useful-google-tools.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/drag-and-drop-files-to-gmail.html" class="u-url">Drag and drop files to Gmail</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-15T16:09:44+00:00">2010-04-15 16:09</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>The Gmail team has just added a great new functionality to Gmail.</p>
<p>Until now, to add attachment to your mails, you had to click "Attach a file", find the good file and click it.</p>
<p>Now, you can directly drag the file from your file system to Gmail :</p>
<p><a href="wp-content/uploads/2010/04/Gmail-1-e1271621678914.png"><img src="wp-content/uploads/2010/04/Gmail-1-e1271621678914.png" alt="Gmail Drag files from file explorer" title="Gmail Drag files from file explorer" width="600" height="354" class="size-full wp-image-399"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2010/04/Gmail-2-e1271621636934.png"><img src="wp-content/uploads/2010/04/Gmail-2-e1271621636934.png" alt="Gmail Drag files from file explorer result" title="Gmail Drag files from file explorer result" width="600" height="355" class="size-full wp-image-398"></a></p>
<p>It's a little functionality, but that save a lot of time and that's the kind of feature we (computer scientist) love.</p>
<p>Try it, that's awesome !</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/drag-and-drop-files-to-gmail.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/drag-and-drop-files-to-gmail.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/substance-6-0-is-out.html" class="u-url">Substance 6.0 is out</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-14T13:42:55+00:00">2010-04-14 13:42</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>Kirill Grouchnikov has just announced the release of the final release of <strong>Substance 6.0</strong>. Substance is a really powerful look and feel for Java. This look and feel looks pretty good and is skinnable, you have several themes to apply to the look and feel to customize the appearance of your applications.</p>
<p>This version includes the following new features :</p>
<ul>
    <li>Multi-state animated transitions</li>
    <li>New look for text components</li>
    <li>Custom components states</li>
    <li>Support for drop location</li>
</ul>

<p>The deprecated APIs have been removed from this release. There is also revisited APIs that can break your code. The animations are now powered by <strong>Trident 1.2</strong>.</p>
<p>More information on <a title="Substance 6.0 offical announce" href="http://www.pushing-pixels.org/?p=1746" target="_blank">the official announce</a>.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/substance-6-0-is-out.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/substance-6-0-is-out.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/04/java-7-more-concurrency.html" class="u-url">Java 7 : More concurrency</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-04-14T06:40:29+00:00">2010-04-14 06:40</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>With <strong>Java 7</strong> (Dolphin), we'll have some <strong>concurrency </strong>and <strong>collections </strong>updates with the <strong>JSR166y</strong>, extension of the JSR166 of Doug Lea.</p>
<p>In this post, we'll see the most important news :</p>
<ul>
    <li>Fork/Join Framework</li>
    <li>TrasnferQueue<e></e></li>
    <li>ThreadLocalRandom</li>
</ul>

<!--more-->

<h4>Fork/Join Framework</h4>

<p>The most important improvement is a new <strong>Fork/Join</strong> Framework. Fork/Join is basically the parralel version of the divide-and-conquer algorithm resolution. Here is the typical form of that problems (taken from Doug Lea) :</p>
<div class="code"><pre><span class="n">Result</span> <span class="nf">solve</span><span class="o">(</span><span class="n">Problem</span> <span class="n">problem</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">problem</span> <span class="n">is</span> <span class="n">small</span><span class="o">)</span>
        <span class="n">directly</span> <span class="n">solve</span> <span class="n">problem</span>
    <span class="k">else</span> <span class="o">{</span>
        <span class="n">split</span> <span class="n">problem</span> <span class="n">into</span> <span class="n">independent</span> <span class="n">parts</span>
        <span class="n">fork</span> <span class="k">new</span> <span class="n">subtasks</span> <span class="n">to</span> <span class="n">solve</span> <span class="n">each</span> <span class="n">part</span>
        <span class="n">join</span> <span class="n">all</span> <span class="n">subtasks</span>
        <span class="n">compose</span> <span class="n">result</span> <span class="n">from</span> <span class="n">subresults</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>Java 7 provide a new class <strong>ForkJoinPool </strong>to run <strong>ForkJoinTask</strong>. A ForkJoinTask is lighter than a thread. If you have a lot of ForkJoinTask, you can host them with a smallest number of threads. Two implementations of ForkJoinTask are provided :</p>
<ul>
    <li><strong>RecursiveAction </strong>: A recursive resultless ForkJoinTask</li>
    <li><strong>RecursiveTask</strong><e> : A recursive ForkJoinTask that return an object of type E</e></li>
</ul>

<p>Of course, you can also directly use the ForkJoinTask class but the recursive actions are enough in almost all the cases.</p>
<p>From a ForkJoinTask you can invoke other task (fork them) using <em>invokeAll </em>methods.</p>
<p>So, now that we have covered the main concepts of this framework, we could start with a little example (directly taken from Javadoc <strong>build 87</strong>). We'll use divide and conquer to increment all the elements of an array. To know if the problem is small enough to solve it directly, we'll use a threshold representing the number of elements that we can increment directly. If we have more elements than the threshold, we will fork in two task otherwise, we'll compute directly the incrementation on the array. So here is our task :</p>
<div class="code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">IncrementTask</span> <span class="kd">extends</span> <span class="n">RecursiveAction</span> <span class="o">{</span>
   <span class="kd">private</span> <span class="kd">final</span> <span class="kt">long</span><span class="o">[]</span> <span class="n">array</span><span class="o">;</span>
   <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">low</span><span class="o">;</span>
   <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">high</span><span class="o">;</span>

   <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">THRESHOLD</span> <span class="o">=</span> <span class="mi">5000</span><span class="o">;</span>

   <span class="kd">public</span> <span class="nf">IncrementTask</span><span class="o">(</span><span class="kt">long</span><span class="o">[]</span> <span class="n">array</span><span class="o">,</span> <span class="kt">int</span> <span class="n">low</span><span class="o">,</span> <span class="kt">int</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
      <span class="kd">super</span><span class="o">();</span>

      <span class="k">this</span><span class="o">.</span><span class="na">array</span> <span class="o">=</span> <span class="n">array</span><span class="o">;</span>
      <span class="k">this</span><span class="o">.</span><span class="na">low</span> <span class="o">=</span> <span class="n">low</span><span class="o">;</span>
      <span class="k">this</span><span class="o">.</span><span class="na">high</span><span class="o">=</span> <span class="n">high</span><span class="o">;</span>
   <span class="o">}</span>

   <span class="nd">@Override</span>
   <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">compute</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">high</span> <span class="o">-</span> <span class="n">low</span> <span class="o">&lt;</span> <span class="n">THRESHOLD</span><span class="o">)</span> <span class="o">{</span>
           <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">low</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">high</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
              <span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]++;</span>
           <span class="o">}</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
           <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="o">(</span><span class="n">low</span> <span class="o">+</span> <span class="n">high</span><span class="o">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span><span class="o">;</span>

           <span class="n">invokeAll</span><span class="o">(</span><span class="k">new</span> <span class="n">IncrementTask</span><span class="o">(</span><span class="n">array</span><span class="o">,</span> <span class="n">low</span><span class="o">,</span> <span class="n">mid</span><span class="o">),</span> <span class="k">new</span> <span class="n">IncrementTask</span><span class="o">(</span><span class="n">array</span><span class="o">,</span> <span class="n">mid</span><span class="o">,</span> <span class="n">high</span><span class="o">));</span>
      <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>And you can launch that on an array using ForkJoinPool :</p>
<div class="code"><pre><span class="n">RecursiveAction</span> <span class="n">mainTask</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IncrementTask</span> <span class="o">(</span><span class="n">anArray</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">anArray</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
<span class="n">ForkJoinPool</span> <span class="n">mainPool</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ForkJoinPool</span><span class="o">();</span>
<span class="n">mainPool</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">mainTask</span>
<span class="err">```</span><span class="n">e</span><span class="o">&gt;</span>

<span class="n">All</span> <span class="n">the</span> <span class="n">elements</span> <span class="n">of</span> <span class="n">the</span> <span class="n">array</span> <span class="n">will</span> <span class="n">be</span> <span class="n">incremented</span><span class="o">.</span> <span class="n">Depending</span> <span class="n">on</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">array</span> <span class="n">and</span> <span class="n">of</span> <span class="n">the</span> <span class="n">threshold</span><span class="o">,</span> <span class="n">the</span> <span class="n">problem</span> <span class="n">will</span> <span class="n">be</span> <span class="n">divided</span> <span class="n">in</span> <span class="n">several</span> <span class="n">sub</span> <span class="n">problems</span> <span class="n">and</span> <span class="n">all</span> <span class="n">these</span> <span class="n">task</span> <span class="n">will</span> <span class="n">be</span> <span class="n">managed</span> <span class="n">by</span> <span class="n">the</span> <span class="n">ForkJoinPool</span><span class="o">.</span>

<span class="n">You</span> <span class="n">can</span> <span class="n">also</span> <span class="n">make</span> <span class="n">action</span> <span class="n">that</span> <span class="k">return</span> <span class="n">something</span><span class="o">.</span> <span class="n">By</span> <span class="n">example</span><span class="o">,</span> <span class="n">we</span> <span class="n">can</span> <span class="n">compute</span> <span class="n">the</span> <span class="n">sum</span> <span class="n">of</span> <span class="n">all</span> <span class="n">the</span> <span class="n">elements</span> <span class="n">of</span> <span class="n">an</span> <span class="n">array</span> <span class="o">:</span>

<span class="err">```</span><span class="n">java</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SumTask</span> <span class="kd">extends</span> <span class="n">RecursiveTask</span> <span class="o">{</span>
   <span class="kd">private</span> <span class="kd">final</span> <span class="kt">long</span><span class="o">[]</span> <span class="n">array</span><span class="o">;</span>
   <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">low</span><span class="o">;</span>
   <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">high</span><span class="o">;</span>

   <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">THRESHOLD</span> <span class="o">=</span> <span class="mi">5000</span><span class="o">;</span>

   <span class="kd">public</span> <span class="nf">SumTask</span><span class="o">(</span><span class="kt">long</span><span class="o">[]</span> <span class="n">array</span><span class="o">,</span> <span class="kt">int</span> <span class="n">low</span><span class="o">,</span> <span class="kt">int</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
      <span class="kd">super</span><span class="o">();</span>

      <span class="k">this</span><span class="o">.</span><span class="na">array</span> <span class="o">=</span> <span class="n">array</span><span class="o">;</span>
      <span class="k">this</span><span class="o">.</span><span class="na">low</span> <span class="o">=</span> <span class="n">low</span><span class="o">;</span>
      <span class="k">this</span><span class="o">.</span><span class="na">high</span><span class="o">=</span> <span class="n">high</span><span class="o">;</span>
   <span class="o">}</span>

   <span class="nd">@Override</span>
   <span class="kd">protected</span> <span class="n">Long</span> <span class="nf">compute</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">high</span> <span class="o">-</span> <span class="n">low</span> <span class="o">&lt;</span> <span class="n">THRESHOLD</span><span class="o">)</span> <span class="o">{</span>
          <span class="kt">long</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

          <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">low</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">high</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">){</span>
              <span class="n">sum</span> <span class="o">+=</span> <span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
           <span class="o">}</span>

           <span class="k">return</span> <span class="n">sum</span><span class="o">;</span>
       <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
           <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="o">(</span><span class="n">low</span> <span class="o">+</span> <span class="n">high</span><span class="o">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span><span class="o">;</span>

          <span class="n">RecursiveTask</span> <span class="n">left</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SumTask</span><span class="o">(</span><span class="n">array</span><span class="o">,</span> <span class="n">low</span><span class="o">,</span> <span class="n">mid</span><span class="o">);</span>
          <span class="n">RecursiveTask</span> <span class="n">right</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SumTask</span><span class="o">(</span><span class="n">array</span><span class="o">,</span> <span class="n">mid</span><span class="o">,</span> <span class="n">high</span><span class="o">);</span>

          <span class="n">right</span><span class="o">.</span><span class="na">fork</span><span class="o">();</span>

          <span class="k">return</span> <span class="n">left</span><span class="o">.</span><span class="na">compute</span><span class="o">()</span> <span class="o">+</span> <span class="n">right</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
      <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>And you can use it like that :</p>
<div class="code"><pre><span class="n">RecursiveTask</span> <span class="n">sumTask</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SumTask</span><span class="o">(</span><span class="n">anArray</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">anArray</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
<span class="n">ForkJoinPool</span> <span class="n">mainPool</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ForkJoinPool</span><span class="o">();</span>
<span class="n">Long</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">mainPool</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">sumTask</span><span class="o">);</span>
</pre></div>


<p>I think it's a clean way to solve big problems with divide-and-conquer.</p>
<p>You can also imagine others ways to divide the problems. An example is to compute the <em>THRESOLD</em> left elements in the task and create a new task to compute the right elements. With that, we create less tasks, but it depends on the context and on the problems. In practive, you'll have  normally more complex problems but if you can find a way to divide the problems, you can use that new framework and have a very clean code.</p>
<h4>TransferQueue<e></e></h4>

<p>A new interesting collection. This collection is a blocking queue especially made for producers/consumers. With that kind of queue, the producers can await for receipt of by the consumers with a new transfer(E) method or like normal queue without waiting for receipt with the <em>put</em>(E) method. It's also possible to make a transfer with timeout with the tryTransfer method. There is no change in the consumer part, you always use take() to get an element and waiting for an element. You've also access to the number of waiting consumer with the <em>getWaitingConsumerCount</em>().</p>
<p>The implementation to use is the <strong>LinkedTransferQueue<e></e></strong> based on linked nodes. The elements are ordered with FIFO. Here are some methods you can use with that new collection :</p>
<div class="code"><pre><span class="n">TransferQueue</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">transfer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedTransferQueue</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>

<span class="n">transfer</span><span class="o">.</span><span class="na">transfer</span><span class="o">(</span><span class="s">"Hello"</span><span class="o">);</span> <span class="c1">//Wait for a consumer</span>

<span class="k">if</span><span class="o">(</span><span class="n">transfer</span><span class="o">.</span><span class="na">tryTransfer</span><span class="o">(</span><span class="s">"World"</span><span class="o">)){</span><span class="c1">//Don't wait for a consumer</span>
    <span class="c1">//The element has been transfered to a consumer</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="c1">//There were no waiting consumer. The element has not been enqueued.</span>
<span class="o">}</span>

<span class="kt">boolean</span> <span class="n">transfered</span> <span class="o">=</span> <span class="n">transfer</span><span class="o">.</span><span class="na">tryTransfer</span><span class="o">(</span><span class="s">"Goodbye"</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">SECONDS</span><span class="o">);</span>

<span class="k">while</span><span class="o">(</span><span class="n">transfer</span><span class="o">.</span><span class="na">hasWaitingConsumer</span><span class="o">()){</span>
    <span class="c1">//There is at least one consumer waiting for a transfer</span>
<span class="o">}</span>
</pre></div>


<p>It's also an interesting stuff. Useful by example in the case of message passing.</p>
<h4>ThreadLocalRandom</h4>

<p>A really simple but useful enhancement is the add of the <strong>ThreadLocalRandom</strong> class. This class is a random number generator linked to the current <strong>Thread</strong>. It seems that if you use this generator from two different thread, you will have two different random generators. The generator is initialized with a generated seed that you cannot modify (<em>setSeed()</em> throws an <em>UnsupportedOperationException</em>).</p>
<p>You can use that class like that :</p>
<div class="code"><pre><span class="kt">long</span> <span class="n">l</span> <span class="o">=</span> <span class="n">ThreadLocalRandom</span><span class="o">.</span><span class="na">current</span><span class="o">().</span><span class="na">nextLong</span><span class="o">(</span><span class="mi">22L</span><span class="o">);</span>
</pre></div>


<p>If you always use this form, you have the guarantee that the random generator will never be shared between two threads. Moreover, this new class provide  methods to generate a bounded numbers. By example, to generate a pseudo-random number between 10, inclusive and 33, exclusive, you can type :</p>
<div class="code"><pre><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ThreadLocalRandom</span><span class="o">.</span><span class="na">current</span><span class="o">().</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">33</span><span class="o">);</span>
</pre></div>


<p>This is a little improvement but really useful, i think.</p>
<p>So here we are. I've covered the main features added on Java 7 for concurrency. I hope you find that stuff interesting and that discovering this features will help you to make concurrent programming in Java 7.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/04/java-7-more-concurrency.html#disqus_thread" data-disqus-identifier="cache/posts/2010/04/java-7-more-concurrency.html">Comments</a>


        </p></article>
    
        <div>
        <ul class="pager">
            <li class="previous">
                <a href="index-5.html" rel="prev">← Newer posts</a>
            </li>
            <li class="next">
                <a href="index-3.html" rel="next">Older posts →</a>
            </li>
        </ul>
        </div>

    
        
       <script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>


	


            </div>
        </div>
    </div>
</div>

<!-- Footer -->

<footer>
    Contents © 2014         <a href="mailto:baptistewicht@gmail.com">Baptiste Wicht</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/4.0/88x31.png"></a>
        <ul class="footer_inline_ul">
            
        </ul>
</footer>


            <script src="assets/js/all-nocdn.js" type="text/javascript"></script>


    <script type="text/javascript">
      $(document).ready(function() {
        jQuery.getJSON('/assets/js/tag_cloud_data.json', function(data) {
            var items = [];

            $.each(data, function(key, val) {
                items.push('<li><a href="' + val[1] +'" '+'data-weight="'+val[0]+'"'+'>' + key + '</a></li>');
            });

            $('<div/>', {
                'id': 'tags',
                html: '<ul>' + items.join('') + '</ul>'
            }).appendTo('body');

            if(!$('#tags_canvas').tagcanvas({
                textColour: '#FFFFFF',
                outlineColour: '#ff00ff',
                reverse: true,
                depth: 0.8,
                maxSpeed: 0.05,
                weight: true,
                weightFrom: "data-weight",
                weightSizeMin: 8,
                weightSizeMax: 24
            },'tags')) {
                //something went wrong, hide the canvas container
                $('#tags_container').hide();
            }});
        });
    </script>
    
<script type="text/javascript" src="https://apis.google.com/js/platform.js"></script>


    
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5327566b264df4ee"></script>
<script type="text/javascript">
  addthis.layers({
    'theme' : 'dark',
    'share' : {
      'position' : 'right',
      //'services' : 'google_plusone,facebook_like,tweet',
      'services' : 'google_plusone_share,facebook,twitter'
    }, 
    'follow' : {
      'services' : [
        {'service': 'twitter', 'id': 'wichtounet'},
        {'service': 'google_follow', 'id': '+BaptisteWicht'}
      ]
    }   
  });
</script>



<!-- Search -->

<!--
    <script type="text/javascript" src="/assets/js/tipuesearch_set.js"></script>
    <script type="text/javascript" src="/assets/js/tipuesearch.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#tipue_search_input').tipuesearch({
            'mode': 'json',
            'contentLocation': '/assets/js/tipuesearch_content.json',
            'showUrl': false
            });
            });
    </script>
-->

<script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>






</body>
</html>