<!DOCTYPE html><html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Baptiste Wicht">
    <title>EDDI Compiler 1.1.3 - Templates | @Blog("Baptiste Wicht")</title>
    
            <link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
      <link rel="canonical" href="http://www.baptiste-wicht.com/posts/2012/09/eddi-compiler-1-1-3-templates.html">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">

    





    
</head>
<body>
<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid"><!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://www.baptiste-wicht.com/">@Blog("Baptiste Wicht")</a>
        </div><!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                
                <li><a href="../../../archive.html">Archives</a>
                </li><li><a href="../../../categories/index.html">Tags</a>
                </li><li><a href="../../../rss.xml">RSS</a>

            </li></ul>

            <ul class="nav navbar-nav navbar-right">
                
                
                    
    <li>
    <a href="eddi-compiler-1-1-3-templates.wp" id="sourcelink">Source</a>
    </li>

            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<!-- End of Menubar -->

<div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
    <article class="postbox post-text">
    <div class="h-entry" itemscope="itemscope" itemtype="http://schema.org/Article">
    
    <h1 class="p-name" itemprop="headline name">EDDI Compiler 1.1.3 - Templates</h1>

    <hr>
    <small>
        Posted: <time class="published dt-published" datetime="2012-09-05T07:25:42+00:00" itemprop="datePublished">2012-09-05 07:25</time>
        

        
          |  
        More posts about 
    <span itemprop="keywords">
        <a class="tag p-category" href="../../../categories/c.html"><span class="badge badge-info">C++</span></a>
        <a class="tag p-category" href="../../../categories/compilers.html"><span class="badge badge-info">Compilers</span></a>
        <a class="tag p-category" href="../../../categories/eddi.html"><span class="badge badge-info">EDDI</span></a>
        <a class="tag p-category" href="../../../categories/eddi.html"><span class="badge badge-info">EDDI</span></a>
    </span>


    </small>
    <hr>
    <div class="e-content" itemprop="articleBody text">
    <div><p></p><p>I finished the <strong>version 1.1.3 of the EDDI Compiler (eddic)</strong>.</p>
<p>The main improvement to the language is the support of templates. The syntax is more or less the same as the syntax of C++ templates, but the features are much more limited. In EDDI, you can declare class templates and function templates. Class templates can also includes member function templates.</p>
<p>Here is an example of the use of templates in EDDI:</p>
<p>[cpp]template</p>
<p>struct node {
    T value;</p>
<div class="code"><pre><span class="n">this</span><span class="p">(</span><span class="n">T</span> <span class="n">init</span><span class="p">){</span>
    <span class="n">print</span><span class="p">(</span><span class="s">"C1|"</span><span class="p">);</span>
    <span class="n">this</span><span class="p">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">init</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">T</span> <span class="n">get_value</span><span class="p">(){</span>
    <span class="k">return</span> <span class="n">this</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">template</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">type</span> <span class="n">U</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
<span class="kt">void</span> <span class="nf">print_value</span><span class="p">(</span><span class="n">U</span> <span class="n">v</span><span class="p">){</span>
    <span class="n">print</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
    <span class="n">print</span><span class="p">(</span><span class="s">"|"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>


<p>}</p>
<p>template&lt;type T&gt;</p>
<p>void debug(T t){
    print(t);
    print("|");
}</p>
<p>template&lt;type T&gt;</p>
<p>void test(node&lt;T&gt;* node){
    debug&lt;T&gt;(node.value);
    debug&lt;T&gt;(node.get_value());
}</p>
<p>void main(){
    node&lt;int&gt; first_node(100);
    node&lt;float&gt; second_node(13.3);</p>
<div class="code"><pre><span class="n">test</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="kt">int</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;(</span><span class="n">first_node</span><span class="p">);</span>
<span class="n">test</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="kt">float</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;(</span><span class="n">second_node</span><span class="p">);</span>

<span class="n">first_node</span><span class="p">.</span><span class="n">print_value</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="kt">float</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;(</span><span class="mf">1.0</span><span class="p">);</span>
<span class="n">second_node</span><span class="p">.</span><span class="n">print_value</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="kt">int</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;(</span><span class="mi">10</span><span class="p">);</span>
</pre></div>


<p>}</p>
<p>[/cpp]</p>
<p>This new feature adds generic programming capabilities to the language.</p>
<p>This version also adds other language improvements. The first one is the support of the ! operator for a bool, to test if a bool is false. This version also includes support for iterating through all the chars of a string with a foreach loop. And finally, the this pointer is now implicit to access member fields of a struct from member functions.</p>
<p>The optimization engine has been greatly improved. The pointers are much better handled and some regression due to new features have been fixed. The Constant Propagation optimization can take default values of struct and arrays into account. Finally, the functions with char parameters can now be inlined.</p>
<p></p><div id="LC3">Finally, the compiler use a new logging system, that can be completely removed at compile-time for release versions.</div>
<div>

<h4>Future Work</h4>

<div>The next version of the EDDI compiler (eddic) will be the version 1.1.4. This version will add support for some basic pointer manipulation. It will also add support for dynamically allocated arrays. Finally, the version will includes several new optimization techniques regarding to loops: Loop Invariant Code Motion, Loop Strength Reduction and perhaps some basic Loop Unrolling.</div>

<h4>Download</h4>

<div>You can find the EDDI Compiler sources on the Github repository: <a title="Github repository of eddic" href="https://github.com/wichtounet/eddic">https://github.com/wichtounet/eddic</a></div>

<div>The exact version I refer to is the v1.1.3 available in the GitHub tags or directly as the release branch.</div>

</div>

<p></p></div>
    </div>
    </div>
    
        <ul class="pager">
            <li class="previous">
                <a href="../08/jelastic-java-host-recommended-james-gosling.html" rel="prev">← Previous post</a>
            </li>
            <li class="next">
                <a href="back-in-berkeley-california.html" rel="next">Next post →</a>
            </li>
        </ul>

        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="nikolademo",
            disqus_url="http://www.baptiste-wicht.com/posts/2012/09/eddi-compiler-1-1-3-templates.html",
        disqus_title="EDDI Compiler 1.1.3 - Templates",
        disqus_identifier="cache/posts/2012/09/eddi-compiler-1-1-3-templates.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    

    </article>

        </div>
        <!--End of body content-->

        <footer>
            Contents © 2014         <a href="mailto:baptistewicht@gmail.com">Baptiste Wicht</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
        </footer>
    </div>
</div>


            <script src="../../../assets/js/all-nocdn.js" type="text/javascript"></script>


    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul><li><a class="addthis_button_facebook"></a>
</li><li><a class="addthis_button_google_plusone_share"></a>
</li><li><a class="addthis_button_linkedin"></a>
</li><li><a class="addthis_button_twitter"></a>
</li></ul>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
    

</body>
</html>