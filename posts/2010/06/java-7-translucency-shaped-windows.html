<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Java 7 : Translucency and shaped windows | @Blog("Baptiste Wicht")</title><link href=../../../assets/css/all-nocdn.css rel=stylesheet type=text/css><link rel=alternate type=application/rss+xml title=RSS href=../../../rss.xml><link rel=canonical href=http://baptiste-wicht.com/posts/2010/06/java-7-translucency-shaped-windows.html><script type=text/javascript>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2175227-7']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script><meta name=author content="Baptiste Wicht"><meta name=og:title content="Java 7 : Translucency and shaped windows"><meta name=og:url content=http://baptiste-wicht.com/posts/2010/06/java-7-translucency-shaped-windows.html><meta name=og:description content="Java 7 introduces very interesting features for desktop windows :

    Transclucency for windows : Make a full window translucent with a specified alpha level
    Per pixel translucency : Make a part "><meta name=og:site_name content=@Blog( baptiste wicht><meta name=og:type content=article><link href=../../../favicon.ico rel=icon type=image/x-icon></head><body><div class=social_container> <div class=social_container_gplus> <a target=_blank title="Share on Google+" href="https://plusone.google.com/_/+1/confirm?hl=en&amp;url=http://baptiste-wicht.com/posts/2010/06/java-7-translucency-shaped-windows.html"><img src=../../../assets/img/google_plus.png></a> </div> <div class=social_container_facebook> <a target=_blank title="Share on Facebook" href="http://www.facebook.com/sharer/sharer.php?u=#url"><img src=../../../assets/img/facebook.png></a> </div> <div class=social_container_twitter> <a target=_blank title="Tweet on Twitter" href="http://twitter.com/home?status=#url"><img src=../../../assets/img/twitter.svg></a> </div></div><nav class="navbar navbar-inverse navbar-fixed-top" role=navigation> <div class=container-fluid> <div class=navbar-header> <button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-ex1-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href=http://baptiste-wicht.com/> <span id=blog-title>@Blog("Baptiste Wicht")</span> </a> </div> <div class="collapse navbar-collapse navbar-ex1-collapse"> <ul class="nav navbar-nav"> <li><a href=../../../stories/about.html>About</a> </li><li><a href=../../../stories/publications.html>Publications</a> </li><li><a href=../../../stories/donate.html>Donate</a> </li><li><a href=../../../stories/contact.html>Contact</a> </li><li><a href=../../../stories/faq.html>FAQ</a> </li><li><a href=../../../stories/legal.html>Legal</a> </li><li><a href=../../../categories/index.html>Tags</a> </li><li><a href=../../../archive.html>Archives</a> </li><li><a href=http://feeds.feedburner.com/BaptisteWicht>RSS</a> </li></ul> <span class="navbar-form pull-left"> <form action=../../../stories/search.html> <input type=text name=q id=tipue_search_input> </form> </span> <ul class="nav navbar-nav navbar-right"> <li> <a target=_blank title="Follow @wichtounet on Twitter" href=https://twitter.com/wichtounet> <img src=../../../assets/img/twitter.svg alt="Follow @wichtounet on Twitter"> </a> </li> <li> <a target=_blank title="Follow +BaptisteWicht on Google+" href=https://plus.google.com/+BaptisteWicht> <img src=../../../assets/img/google_plus.svg alt="Follow +BaptisteWicht on Google+"> </a> </li> </ul> </div> </div></nav><div class=body-container> <div class=left-sidebar> <div class=left-sidebar-widget> <div class=left-sidebar-widget-content> <div class=g-person data-width=275 data-href=//plus.google.com/u/0/103113673902796202116 data-theme=dark data-layout=landscape data-rel=author></div> </div> </div> <div class=left-sidebar-widget> <h3>Related posts</h3> <div class=left-sidebar-widget-content> <ol><li><a href=../05/ubuntu-lucid-lynx-buttons-right.html>Ubuntu Lucid Lynx Tip : Put the window buttons to the right</a></li><li><a href=../../2013/07/why-how-left-windows-for-linux.html>Why and how I completely left Windows for Linux</a></li><li><a href=../../2011/07/java-7-has-been-released.html>Java 7 has been released!</a></li><li><a href=../03/java-swing-focus.html>Manage focus with Swing in Java</a></li><li><a href=../04/java-7-more-dynamics.html>Java 7 : More dynamics</a></li></ol> </div> </div> <div class=left-sidebar-widget> <h3>Recent comments</h3> <div class=left-sidebar-widget-content> <div id=recentcomments class=dsq-widget> <script type=text/javascript src="http://blogwichtounet.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=28&amp;excerpt_length=50"></script> </div> </div> </div> <div class=left-sidebar-widget> <h3>Blogroll</h3> <div class=left-sidebar-widget-content> <ul> <li><a target=_blank href=http://www.asjava.com/>AsJava.com : Java Tutorial</a></li> <li><a target=_blank href=http://www.mkyong.com/>Mkyong : Java Tutorials</a></li> </ul> </div> </div> </div> <div class=container> <div class=body-content> <div class=row><article class="post-text h-entry hentry postpage" itemscope=itemscope itemtype=http://schema.org/Article> <header> <h1 class="p-name entry-title" itemprop="headline name"><a href=# class=u-url>Java 7 : Translucency and shaped windows</a></h1> <div class=metadata> <p class="byline author vcard"><span class="byline-name fn">Baptiste Wicht</span></p> <p class=dateline><a href=# rel=bookmark><time class="published dt-published" datetime=2010-06-02T06:32:11+02:00 itemprop=datePublished title="Publication date">2010-06-02 06:32</time></a></p> <p class=commentline> <a href=java-7-translucency-shaped-windows.html#disqus_thread data-disqus-identifier=cache/posts/2010/06/java-7-translucency-shaped-windows.html>Comments</a> </p><p class=sourceline><a href=java-7-translucency-shaped-windows.wp id=sourcelink>Source</a></p> </div> </header> <div class="e-content entry-content" itemprop="articleBody text"> <p>Java 7 introduces very interesting features for desktop windows :</p><ul> <li><strong>Transclucency for windows</strong> : Make a full window translucent with a specified alpha level</li> <li><strong>Per pixel translucency</strong> : Make a part of the window translucent.</li> <li><strong>Shaped windows</strong> : You can now create windows with a certain shape, like circle, ovale, triangle, ...</li></ul><p>We'll see all this features in that post. All the examples are tested in Windows Seven 64 bits, because the transclucency isn't supported in Ubuntu 10.04 at the time I write the article.</p><p>First of all, you can now set the opacity of the window with the setOpacity(float opacity) of the Window class. With that, the entire window is made translucent. There is some limitations with that new method. An opacity less than 1.0 isn't supported if the window use full-screen mode or if the simple translucency isn't supported. You can test if the window transclucency is supported with the isWindowTranslucencySupported() method added to the GraphicsDevice class :</p><pre class="code literal-block"><span class=n>GraphicsEnvironment</span> <span class=n>ge</span> <span class=o>=</span> <span class=n>GraphicsEnvironment</span><span class=o>.</span><span class=na>getLocalGraphicsEnvironment</span><span class=o>();</span>
<span class=k>if</span> <span class=o>(</span><span class=n>ge</span><span class=o>.</span><span class=na>getDefaultScreenDevice</span><span class=o>().</span><span class=na>isWindowTranslucencySupported</span><span class=o>(</span><span class=n>GraphicsDevice</span><span class=o>.</span><span class=na>WindowTranslucency</span><span class=o>.</span><span class=na>TRANSLUCENT</span><span class=o>))</span> <span class=o>{</span>
    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>"Window translucency isn't supported on your system. "</span><span class=o>);</span>
<span class=o>}</span>
</pre><p>We know enough to write a first translucent window :</p><pre class="code literal-block"><span class=kn>package</span> <span class=n>com</span><span class=o>.</span><span class=na>wicht</span><span class=o>.</span><span class=na>java7</span><span class=o>.</span><span class=na>swing</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>javax.swing.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.swing.event.ChangeEvent</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.swing.event.ChangeListener</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.awt.*</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>TranslucentWindow</span> <span class=kd>extends</span> <span class=n>JFrame</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=nf>TranslucentWindow</span><span class=o>()</span> <span class=o>{</span>
        <span class=kd>super</span><span class=o>(</span><span class=s>"Simple Translucency Demo"</span><span class=o>);</span>

        <span class=n>setSize</span><span class=o>(</span><span class=mi>300</span><span class=o>,</span> <span class=mi>200</span><span class=o>);</span>

        <span class=n>setDefaultCloseOperation</span><span class=o>(</span><span class=n>EXIT_ON_CLOSE</span><span class=o>);</span>

        <span class=n>getRootPane</span><span class=o>().</span><span class=na>setDoubleBuffered</span><span class=o>(</span><span class=kc>false</span><span class=o>);</span>
        <span class=n>setOpacity</span><span class=o>(</span><span class=mf>0.5f</span><span class=o>);</span>

        <span class=n>setLocationRelativeTo</span><span class=o>(</span><span class=kc>null</span><span class=o>);</span>
        <span class=n>setVisible</span><span class=o>(</span><span class=kc>true</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>SwingUtilities</span><span class=o>.</span><span class=na>invokeLater</span><span class=o>(</span><span class=k>new</span> <span class=n>Runnable</span><span class=o>(){</span>
            <span class=nd>@Override</span>
            <span class=kd>public</span> <span class=kt>void</span> <span class=nf>run</span><span class=o>()</span> <span class=o>{</span>
                <span class=n>GraphicsEnvironment</span> <span class=n>ge</span> <span class=o>=</span> <span class=n>GraphicsEnvironment</span><span class=o>.</span><span class=na>getLocalGraphicsEnvironment</span><span class=o>();</span>

                <span class=k>if</span> <span class=o>(</span><span class=n>ge</span><span class=o>.</span><span class=na>getDefaultScreenDevice</span><span class=o>().</span><span class=na>isWindowTranslucencySupported</span><span class=o>(</span><span class=n>GraphicsDevice</span><span class=o>.</span><span class=na>WindowTranslucency</span><span class=o>.</span><span class=na>TRANSLUCENT</span><span class=o>))</span> <span class=o>{</span>
                    <span class=k>new</span> <span class=nf>TranslucentWindow</span><span class=o>();</span>
                <span class=o>}</span>
            <span class=o>}</span>
        <span class=o>});</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre><p>Note : We disable double buffering to remove artifacts that come when double buffer a translucent window.</p><p>That produce this result on my computer :</p><p><a href=../../../wp-content/uploads/2010/05/TranslucentWindow.png><img class="size-full wp-image-610" title="Java 7 Translucent Window" src=../../../wp-content/uploads/2010/05/TranslucentWindow.png alt="Java 7 Translucent Window" width=300 height=200></a></p><p>So, it's really simple to make a window translucent. But there is more you can do. You can also make only a set of pixel translucent using their background color. Like the translucent window, there is some limitations, the window must not be in full-screen and the system must support the per pixel translucency. You can test it the same way as the first time :</p><pre class="code literal-block"><span class=n>GraphicsEnvironment</span> <span class=n>ge</span> <span class=o>=</span> <span class=n>GraphicsEnvironment</span><span class=o>.</span><span class=na>getLocalGraphicsEnvironment</span><span class=o>();</span>

<span class=k>if</span> <span class=o>(</span><span class=n>ge</span><span class=o>.</span><span class=na>getDefaultScreenDevice</span><span class=o>().</span><span class=na>isWindowTranslucencySupported</span><span class=o>(</span><span class=n>GraphicsDevice</span><span class=o>.</span><span class=na>WindowTranslucency</span><span class=o>.</span><span class=na>PERPIXEL_TRANSLUCENT</span><span class=o>))</span> <span class=o>{</span>
    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>"Window translucency isn't supported on your system. "</span><span class=o>);</span>
<span class=o>}</span>
</pre><p>A simple making a grid of 16 panels more and more translucent :</p><pre class="code literal-block"><span class=kn>package</span> <span class=n>com</span><span class=o>.</span><span class=na>wicht</span><span class=o>.</span><span class=na>java7</span><span class=o>.</span><span class=na>swing</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>javax.swing.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.awt.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.awt.event.ActionEvent</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.awt.event.ActionListener</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>GriddedTranslucentWindow</span> <span class=kd>extends</span> <span class=n>JFrame</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=nf>GriddedTranslucentWindow</span><span class=o>()</span> <span class=o>{</span>
        <span class=kd>super</span><span class=o>(</span><span class=s>"Java 7 Per Pixel Translucency"</span><span class=o>);</span>

        <span class=n>setSize</span><span class=o>(</span><span class=mi>300</span><span class=o>,</span> <span class=mi>320</span><span class=o>);</span>

        <span class=n>getContentPane</span><span class=o>().</span><span class=na>setLayout</span><span class=o>(</span><span class=k>new</span> <span class=n>GridLayout</span><span class=o>(</span><span class=mi>4</span><span class=o>,</span> <span class=mi>4</span><span class=o>));</span>

        <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&amp;</span><span class=n>amp</span><span class=o>;</span><span class=n>lt</span><span class=o>;</span> <span class=mi>16</span><span class=o>;</span> <span class=n>i</span><span class=o>++){</span>
            <span class=n>add</span><span class=o>(</span><span class=k>new</span> <span class=n>AlphaPanel</span><span class=o>(</span><span class=mi>255</span> <span class=o>-</span> <span class=n>i</span> <span class=o>*</span> <span class=mi>12</span><span class=o>));</span>
        <span class=o>}</span>

        <span class=n>setBackground</span><span class=o>(</span><span class=k>new</span> <span class=n>Color</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>));</span>

        <span class=n>setLocationRelativeTo</span><span class=o>(</span><span class=kc>null</span><span class=o>);</span>
        <span class=n>setVisible</span><span class=o>(</span><span class=kc>true</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>SwingUtilities</span><span class=o>.</span><span class=na>invokeLater</span><span class=o>(</span><span class=k>new</span> <span class=n>Runnable</span><span class=o>(){</span>
            <span class=nd>@Override</span>
            <span class=kd>public</span> <span class=kt>void</span> <span class=nf>run</span><span class=o>()</span> <span class=o>{</span>
                <span class=n>GraphicsEnvironment</span> <span class=n>ge</span> <span class=o>=</span> <span class=n>GraphicsEnvironment</span><span class=o>.</span><span class=na>getLocalGraphicsEnvironment</span><span class=o>();</span>

                <span class=k>if</span> <span class=o>(</span><span class=n>ge</span><span class=o>.</span><span class=na>getDefaultScreenDevice</span><span class=o>().</span><span class=na>isWindowTranslucencySupported</span><span class=o>(</span><span class=n>GraphicsDevice</span><span class=o>.</span><span class=na>WindowTranslucency</span><span class=o>.</span><span class=na>PERPIXEL_TRANSLUCENT</span><span class=o>))</span> <span class=o>{</span>
                    <span class=k>new</span> <span class=nf>GriddedTranslucentWindow</span><span class=o>();</span>
                <span class=o>}</span>
            <span class=o>}</span>
        <span class=o>});</span>
    <span class=o>}</span>

    <span class=kd>private</span> <span class=kd>class</span> <span class=nc>AlphaPanel</span> <span class=kd>extends</span> <span class=n>JPanel</span> <span class=o>{</span>
        <span class=kd>private</span> <span class=nf>AlphaPanel</span><span class=o>(</span><span class=kt>int</span> <span class=n>alpha</span><span class=o>)</span> <span class=o>{</span>
            <span class=kd>super</span><span class=o>();</span>

            <span class=n>setBackground</span><span class=o>(</span><span class=k>new</span> <span class=n>Color</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>,</span> <span class=mi>255</span><span class=o>,</span> <span class=n>alpha</span><span class=o>));</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre><p>That give me this kind of result :</p><p><a href=../../../wp-content/uploads/2010/05/PerPixelTranslucency1.png><img class="size-full wp-image-612" title="Java 7 : Per Pixel Translucency" src=../../../wp-content/uploads/2010/05/PerPixelTranslucency1.png alt="Java 7 : Per Pixel Translucency" width=284 height=279></a></p><p>The example is very simple of course, but you can imagine doing a lot of things using that feature.</p><p>And now a crazy new feature : shaped windows !</p><p>Java 7 allows you to create Window of whatever shape you want. You can create circle, triangle, elliptic windows or more complex shape, a smiley by example. To do that, you have now access to the setShape(Shape shape) method in the Window class. Like the other two, full screen mode is not allowed and the per pixel transparency must be supported by your computer :</p><pre class="code literal-block"><span class=n>GraphicsEnvironment</span> <span class=n>ge</span> <span class=o>=</span> <span class=n>GraphicsEnvironment</span><span class=o>.</span><span class=na>getLocalGraphicsEnvironment</span><span class=o>();</span>

<span class=k>if</span> <span class=o>(</span><span class=n>ge</span><span class=o>.</span><span class=na>getDefaultScreenDevice</span><span class=o>().</span><span class=na>isWindowTranslucencySupported</span><span class=o>(</span><span class=n>GraphicsDevice</span><span class=o>.</span><span class=na>WindowTranslucency</span><span class=o>.</span><span class=na>PERPIXEL_TRANSPARENT</span> <span class=o>))</span> <span class=o>{</span>
    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>"Window translucency isn't supported on your system. "</span><span class=o>)</span>
<span class=o>}</span>
</pre><p>Here is a little example combining a triangle and a circle :</p><pre class="code literal-block"><span class=kn>package</span> <span class=n>com</span><span class=o>.</span><span class=na>wicht</span><span class=o>.</span><span class=na>java7</span><span class=o>.</span><span class=na>swing</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>javax.swing.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.awt.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.awt.geom.Ellipse2D</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.awt.geom.GeneralPath</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>ShapedWindow</span> <span class=kd>extends</span> <span class=n>JFrame</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=nf>ShapedWindow</span><span class=o>()</span> <span class=o>{</span>
        <span class=kd>super</span><span class=o>(</span><span class=s>"Shaped Window"</span><span class=o>);</span>

        <span class=n>setUndecorated</span><span class=o>(</span><span class=kc>true</span><span class=o>);</span>

        <span class=n>setSize</span><span class=o>(</span><span class=k>new</span> <span class=n>Dimension</span><span class=o>(</span><span class=mi>200</span><span class=o>,</span> <span class=mi>300</span><span class=o>));</span>

        <span class=n>Polygon</span> <span class=n>polygon</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Polygon</span><span class=o>();</span>
        <span class=n>polygon</span><span class=o>.</span><span class=na>addPoint</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>200</span><span class=o>);</span>
        <span class=n>polygon</span><span class=o>.</span><span class=na>addPoint</span><span class=o>(</span><span class=mi>100</span><span class=o>,</span> <span class=mi>0</span><span class=o>);</span>
        <span class=n>polygon</span><span class=o>.</span><span class=na>addPoint</span><span class=o>(</span><span class=mi>200</span><span class=o>,</span> <span class=mi>200</span><span class=o>);</span>

        <span class=n>Ellipse2D</span><span class=o>.</span><span class=na>Double</span> <span class=n>theCircle</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Ellipse2D</span><span class=o>.</span><span class=na>Double</span><span class=o>(</span><span class=mi>0</span><span class=o>,</span> <span class=mi>100</span><span class=o>,</span> <span class=mf>1.0</span><span class=o>*</span><span class=mi>200</span><span class=o>,</span> <span class=mf>1.0</span><span class=o>*</span><span class=mi>200</span><span class=o>);</span>

        <span class=n>GeneralPath</span> <span class=n>path</span> <span class=o>=</span> <span class=k>new</span> <span class=n>GeneralPath</span><span class=o>();</span>
        <span class=n>path</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>polygon</span><span class=o>,</span> <span class=kc>true</span><span class=o>);</span>
        <span class=n>path</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>theCircle</span><span class=o>,</span> <span class=kc>true</span><span class=o>);</span>

        <span class=n>setShape</span><span class=o>(</span><span class=n>path</span><span class=o>);</span>

        <span class=n>getContentPane</span><span class=o>().</span><span class=na>setLayout</span><span class=o>(</span><span class=k>new</span> <span class=n>BoxLayout</span><span class=o>(</span><span class=n>getContentPane</span><span class=o>(),</span> <span class=n>BoxLayout</span><span class=o>.</span><span class=na>X_AXIS</span><span class=o>));</span>

        <span class=n>add</span><span class=o>(</span><span class=n>Box</span><span class=o>.</span><span class=na>createHorizontalGlue</span><span class=o>());</span>
        <span class=n>JLabel</span> <span class=n>label</span> <span class=o>=</span> <span class=k>new</span> <span class=n>JLabel</span><span class=o>(</span><span class=s>"Shaped window"</span><span class=o>);</span>
        <span class=n>label</span><span class=o>.</span><span class=na>setForeground</span><span class=o>(</span><span class=n>Color</span><span class=o>.</span><span class=na>white</span><span class=o>);</span>
        <span class=n>add</span><span class=o>(</span><span class=n>label</span><span class=o>);</span>
        <span class=n>add</span><span class=o>(</span><span class=n>Box</span><span class=o>.</span><span class=na>createHorizontalGlue</span><span class=o>());</span>

        <span class=n>getContentPane</span><span class=o>().</span><span class=na>setBackground</span><span class=o>(</span><span class=n>Color</span><span class=o>.</span><span class=na>blue</span><span class=o>);</span>

        <span class=n>setLocationRelativeTo</span><span class=o>(</span><span class=kc>null</span><span class=o>);</span>
        <span class=n>setVisible</span><span class=o>(</span><span class=kc>true</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>SwingUtilities</span><span class=o>.</span><span class=na>invokeLater</span><span class=o>(</span><span class=k>new</span> <span class=n>Runnable</span><span class=o>(){</span>
            <span class=nd>@Override</span>
            <span class=kd>public</span> <span class=kt>void</span> <span class=nf>run</span><span class=o>()</span> <span class=o>{</span>
                <span class=n>GraphicsEnvironment</span> <span class=n>ge</span> <span class=o>=</span> <span class=n>GraphicsEnvironment</span><span class=o>.</span><span class=na>getLocalGraphicsEnvironment</span><span class=o>();</span>

                <span class=k>if</span> <span class=o>(</span><span class=n>ge</span><span class=o>.</span><span class=na>getDefaultScreenDevice</span><span class=o>().</span><span class=na>isWindowTranslucencySupported</span><span class=o>(</span><span class=n>GraphicsDevice</span><span class=o>.</span><span class=na>WindowTranslucency</span><span class=o>.</span><span class=na>PERPIXEL_TRANSPARENT</span><span class=o>))</span> <span class=o>{</span>
                    <span class=k>new</span> <span class=nf>TranslucentShapedWindow</span><span class=o>();</span>
                <span class=o>}</span>
            <span class=o>}</span>
        <span class=o>});</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre><p>This produce that sort of window :</p><p><a href=../../../wp-content/uploads/2010/06/ShapedWindow.png><img class="size-full wp-image-615" title="Java 7 : Shaped Windows" src=../../../wp-content/uploads/2010/06/ShapedWindow.png alt="Java 7 : Shaped Windows" width=231 height=322></a></p><p>And of course you can combine translucency and shaped windows adding setOpacity(0.5f) to your frame. For that the Per Pixel Translucency and the Per Pixel Transparency must be supported. That give us this kind of window :</p><p><a href=../../../wp-content/uploads/2010/06/TranslucentShapedWindow.png><img class="size-full wp-image-616" title="Java 7 : Translucent Shaped Window" src=../../../wp-content/uploads/2010/06/TranslucentShapedWindow.png alt="Java 7 : Translucent Shaped Window" width=200 height=300></a></p><p>Here we are. We've now covered the new translucency features of Java 7. I think it's really interesting and make Java Desktop Applications more competitive. But I think there is still work to do in Swing before doing that kind of fun stuff.</p> </div> <aside class=postpromonav> <nav> <ul itemprop=keywords class=tags> <li><a class="tag p-category" href=../../../categories/java.html rel=tag>Java</a></li> <li><a class="tag p-category" href=../../../categories/java-7.html rel=tag>Java 7</a></li> <li><a class="tag p-category" href=../../../categories/swing.html rel=tag>Swing</a></li> </ul> <ul class=pager> <li class=previous> <a href=../05/java-7-add-public-defender-methods-to-java-interfaces.html rel=prev title="Java 7 : Add " public defender methods to java interfaces>Previous post</a> </li> <li class=next> <a href=how-to-choose-a-monitor.html rel=next title="How to choose a monitor for your computer ?">Next post</a> </li> </ul> </nav> </aside> <section class=comments> <h2>Comments</h2> <div id=disqus_thread></div> <script>
        var disqus_shortname ="blogwichtounet",
            disqus_url="http://baptiste-wicht.com/posts/2010/06/java-7-translucency-shaped-windows.html",
        disqus_title="Java 7 : Translucency and shaped windows",
        disqus_identifier="cache/posts/2010/06/java-7-translucency-shaped-windows.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script> <noscript>Please enable JavaScript to view the <a href=//disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript> <a href=//disqus.com class=dsq-brlink rel=nofollow>Comments powered by <span class=logo-disqus>Disqus</span></a> </section></article> <script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script> </div> </div> </div></div><footer> Contents © 2015 <a href=mailto:baptistewicht@gmail.com>Baptiste Wicht</a> - Powered by <a href=http://getnikola.com rel=nofollow>Nikola</a><a rel=license href=http://creativecommons.org/licenses/by/4.0/><img alt="Creative Commons License" style=padding-left:5px;border-width:0 src=../../../assets/img/cc.png></a> <ul class=footer_inline_ul> <li> <a href=java-7-translucency-shaped-windows.wp id=sourcelink>Source</a> </li> </ul></footer> <script src=../../../assets/js/all-nocdn.js></script><script type=text/javascript src=https://apis.google.com/js/platform.js></script></body></html>