<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="http://baptiste-wicht.com/posts/2010/08/generate-graphs-benchmarks-easily.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Generate graphs benchmarks easily | Blog blog("Baptiste Wicht");</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="http://baptiste-wicht.com/posts/2010/08/generate-graphs-benchmarks-easily.html">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2175227-7']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script><meta name="author" content="Baptiste Wicht">
<link rel="prev" href="tip-launch-java-applications-from-java-applications-with-ant.html" title="Quick Tip : Launch Java Applications From Java applications with Ant" type="text/html">
<link rel="next" href="do-not-use-relative-path-with-logback.html" title="Do not use relative path with LogBack" type="text/html">
<meta property="og:site_name" content='Blog blog("Baptiste Wicht");'>
<meta property="og:title" content="Generate graphs benchmarks easily">
<meta property="og:url" content="http://baptiste-wicht.com/posts/2010/08/generate-graphs-benchmarks-easily.html">
<meta property="og:description" content="After launching a lot of benchmarks for file copy benchmark and always generating the graphs from the results in Excel, I realized that I was loosing a lot of time to do that. So like any Java develop">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2010-08-11T07:04:50+02:00">
<meta property="article:tag" content="Benchmarks">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Performances">
<link href="../../../favicon.ico" rel="icon" type="image/x-icon">
<link rel="”publisher”" href="%E2%80%9Dhttps://plus.google.com/+BaptisteWicht%E2%80%9D">
</head>
<body>

<!-- Menubar -->

<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<div class="container-fluid">
<!-- This keeps the margins nice -->
    <div class="row">
        <div class="col-sm-3 col-lg-2">
            <nav class="navbar navbar-inverse navbar-fixed-side"><div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="http://baptiste-wicht.com/">
                        <span id="blog-title">Blog blog("Baptiste Wicht");</span>
                    </a>
                </div>
<!-- /.navbar-header -->

                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav">
<li>
<a href="../../../stories/about.html">About</a>
                </li>
<li>
<a href="../../../stories/publications.html">Publications</a>
                </li>
<li>
<a href="../../../categories/index.html">Tags</a>
                </li>
<li>
<a href="../../../archive.html">Archives</a>
                </li>
<li>
<a href="http://feeds.feedburner.com/BaptisteWicht">RSS</a>



                            </li>
<li class="navbar-content">
                                <h3>Related posts</h3>
                            </li>
                            

                            <li><a href="../09/my-java-benchmarks-on-github.html">My Java Benchmarks on GitHub</a></li>
<li><a href="java-file-copy-benchmarks-update.html">Java File Copy Benchmarks Update</a></li>
<li><a href="../04/write-corrects-benchmarks.html">How to write correct benchmarks</a></li>
<li><a href="file-copy-benchmark-updates-once-again.html">Java File Copy Benchmark Updates (once again)</a></li>
<li><a href="../../2015/06/continuous-performance-management-with-cpm-for-cpp.html">Continuous Performance Management with CPM for C++</a></li>


                            <li class="navbar-block">

                        <li class="wicht-navbar-right">
                            <a target="_blank" title="Follow @wichtounet on Twitter" href="https://twitter.com/wichtounet">
                                <img src="../../../assets/img/twitter.png" alt="Follow @wichtounet on Twitter"></a>
                        </li>

                        <li class="wicht-navbar-right">
                            <a target="_blank" title="Follow +BaptisteWicht on Google+" href="https://plus.google.com/+BaptisteWicht">
                                <img src="../../../assets/img/google_plus.png" alt="Follow +BaptisteWicht on Google+"></a>
                        </li>


                    </ul>
</div>
<!-- /.navbar-collapse -->
            </nav>
</div> <!-- col -->
        <div class="col-sm-9 col-lg-10">
            <div id="content"></div>
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Generate graphs benchmarks easily</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Baptiste Wicht
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2010-08-11T07:04:50+02:00" itemprop="datePublished" title="2010-08-11 07:04">2010-08-11 07:04</time></a></p>
                <p class="commentline">
        
    <a href="generate-graphs-benchmarks-easily.html#disqus_thread" data-disqus-identifier="cache/posts/2010/08/generate-graphs-benchmarks-easily.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="generate-graphs-benchmarks-easily.wp" id="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>After launching a lot of benchmarks for <a title="Java File Copy Benchmark" href="http://www.baptiste-wicht.com/2010/08/file-copy-in-java-benchmark/" target="_blank">file copy benchmark</a> and always generating the graphs from the results in Excel, I realized that I was loosing a lot of time to do that. So like any Java developer, I decided to create a little tool that do the work automatically for me.</p>
<p>For creating benchmarks, I'm using a little micro-benchmarking framework, <a title="How to write correct benchmarks" href="http://www.baptiste-wicht.com/2010/04/write-corrects-benchmarks/" target="_blank">described here</a>. After the results are generated, I automatically generate a bar chart of the result using JFreeChart.</p>
<p>Here is an example of graph generated by the tool :</p>
<p><a href="../../../wp-content/uploads/2010/08/graph-example.png"><img class="size-full wp-image-931" title="Example graph" src="../../../wp-content/uploads/2010/08/graph-example.png" alt="Example graph" width="500" height="400"></a></p>
<!-- TEASER_END -->

<h4>Usage of the library</h4>

<p>The usage is quite simple. By example, if you want to benchmark two methods :</p>
<pre class="code literal-block"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">method1</span><span class="o">(){</span>
    <span class="c1">//Code...</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">method2</span><span class="o">(){</span>
    <span class="c1">//Code...</span>
<span class="o">}</span>
</pre>


<p>Start creating a Benchs :</p>
<pre class="code literal-block"><span class="n">Benchs</span> <span class="n">benchs</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Benchs</span><span class="o">(</span><span class="s">"Title of the benchmark"</span><span class="o">);</span>

<span class="n">benchs</span><span class="o">.</span><span class="na">setFolder</span><span class="o">(</span><span class="s">"folder_path"</span><span class="o">);</span>
</pre>


<p>folder_path indicates the folder were the graphs will be generated.</p>
<p>And let’s start the benchs :</p>
<pre class="code literal-block"><span class="n">benchs</span><span class="o">.</span><span class="na">bench</span><span class="o">(</span><span class="s">"First method"</span><span class="o">,</span> <span class="k">new</span> <span class="n">Runnable</span><span class="o">(){</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">method1</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">});</span>

<span class="n">benchs</span><span class="o">.</span><span class="na">bench</span><span class="o">(</span><span class="s">"Second method"</span><span class="o">,</span> <span class="k">new</span> <span class="n">Runnable</span><span class="o">(){</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">method2</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">});</span>

<span class="n">benchs</span><span class="o">.</span><span class="na">generateCharts</span><span class="o">();</span>
</pre>


<p>The charts will be generated in the specified folder.</p>
<h3>Sub chart</h3>

<p>If in the first graph, there is some methods that takes a lot more time than the others methods, a sub chart will be generated including only the best methods. The methods to be removed from the graph to create the sub graph are selected using an exclusion factor. All the benchmarks with a mean exclusionFactor times higher than an other benchmark mean will be excluded. You can configure the exclusion factor using the setExclusionFactor setter. The default is 50.</p>
<p>You can donwload it here : <a href="http://www.baptiste-wicht.com/public/downloads/benchmark-utils.tar.gz">benchmark-utils.tar.gz</a></p>
<p>You can consult the <a title="GitHub website of benchmark-utils" href="http://wiki.github.com/wichtounet/benchmark-utils/" target="_blank">GitHub website</a> for more informations and to get the sources.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/benchmarks.html" rel="tag">Benchmarks</a></li>
            <li><a class="tag p-category" href="../../../categories/java.html" rel="tag">Java</a></li>
            <li><a class="tag p-category" href="../../../categories/performances.html" rel="tag">Performances</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="tip-launch-java-applications-from-java-applications-with-ant.html" rel="prev" title="Quick Tip : Launch Java Applications From Java applications with Ant">Previous post</a>
            </li>
            <li class="next">
                <a href="do-not-use-relative-path-with-logback.html" rel="next" title="Do not use relative path with LogBack">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="blogwichtounet",
            disqus_url="http://baptiste-wicht.com/posts/2010/08/generate-graphs-benchmarks-easily.html",
        disqus_title="Generate graphs benchmarks easily",
        disqus_identifier="cache/posts/2010/08/generate-graphs-benchmarks-easily.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div> <!-- col -->
    </div>
<!-- row  -->
</div>
<!-- container-fluid -->

<!-- End of Menubar -->

<!-- Footer -->

<footer>
    Contents © 2016         <a href="mailto:baptistewicht@gmail.com">Baptiste Wicht</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="padding-left:5px;border-width:0" src="../../../assets/img/cc.png"></a>
        <ul class="footer_inline_ul">
<li>
    <a href="generate-graphs-benchmarks-easily.wp" id="sourcelink">Source</a>
    </li>

        </ul></footer><!-- Late loading stuff  --><script src="../../../assets/js/all-nocdn.js"></script>
</body>
</html>
