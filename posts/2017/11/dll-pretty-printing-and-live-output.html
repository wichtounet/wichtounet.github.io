<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Improvements on the display of Deep Learning Library">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DLL: Pretty printing and live output | Blog blog("Baptiste Wicht");</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="https://baptiste-wicht.com/posts/2017/11/dll-pretty-printing-and-live-output.html">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Baptiste Wicht">
<link rel="prev" href="inventor-on-four-new-research-patents.html" title="Inventor on four new research patents" type="text/html">
<link rel="next" href="initial-support-for-long-short-term-memory-lstm-in-dll.html" title="Initial support for Long Short Term Memory (LSTM) in DLL" type="text/html">
<meta property="og:site_name" content='Blog blog("Baptiste Wicht");'>
<meta property="og:title" content="DLL: Pretty printing and live output">
<meta property="og:url" content="https://baptiste-wicht.com/posts/2017/11/dll-pretty-printing-and-live-output.html">
<meta property="og:description" content="Improvements on the display of Deep Learning Library">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-11-19T15:15:57+01:00">
<meta property="article:tag" content="dll">
<meta property="article:tag" content="Machine Learning">
<meta property="article:tag" content="projects">
<link href="../../../favicon.ico" rel="icon" type="image/x-icon">
<link rel="publisher" href="https://plus.google.com/+BaptisteWicht">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-2175227-7', 'auto');
  var metas = document.getElementsByTagName('meta'), tagsList = [];
  for (var i=0; i<metas.length; i++) {
    if (metas[i].getAttribute('property') == 'article:tag') {
      tagsList.push( metas[i].getAttribute('content'));
    }
  }
  ga('set', 'dimension1', tagsList.join('|'));
  ga('send', 'pageview');
</script>
</head>
<body>

<!-- Menubar -->

<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<div class="container-fluid">
<!-- This keeps the margins nice -->
    <div class="row">
        <div class="col-sm-3 col-lg-2">
            <nav class="navbar navbar-inverse navbar-fixed-side"><div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="https://baptiste-wicht.com/">
                        <span id="blog-title">Blog blog("Baptiste Wicht");</span>
                    </a>
                </div>
<!-- /.navbar-header -->

                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav">
<li>
<a href="../../../stories/about.html">About</a>
                </li>
<li>
<a href="../../../stories/publications.html">Publications</a>
                </li>
<li>
<a href="../../../stories/projects.html">Projects</a>
                </li>
<li>
<a href="../../../categories/index.html">Tags</a>
                </li>
<li>
<a href="../../../archive.html">Archives</a>
                </li>
<li>
<a href="http://feeds.feedburner.com/BaptisteWicht">RSS</a>



                            </li>
<li class="navbar-content">
                                <h3>Related posts</h3>
                            </li>
                            

                            <li><a href="initial-support-for-long-short-term-memory-lstm-in-dll.html">Initial support for Long Short Term Memory (LSTM) in DLL</a></li>
<li><a href="../08/compiler-benchmark-gcc-clang-cpp-library-etl.html">Compiler benchmark GCC and Clang on C++ library (ETL)</a></li>
<li><a href="../../2018/02/decrease-dll-neural-network-compilation-time-with-c++17.html">Decrease DLL neural network compilation time with C++17</a></li>
<li><a href="../03/partial-type-erasing-deep-learning-library-dll-improve-compilation-time.html">Partial type erasing in Deep Learning Library (DLL) to improve compilation time</a></li>
<li><a href="../../2016/11/zapcc-a-faster-cpp-compiler.html">zapcc - a faster C++ compiler</a></li>
<li><a href="../09/how-i-made-deep-learning-library-38-faster-to-compile-optimization-and-cpp17-if-constexpr.html">How I made my Deep Learning Library 38% faster to compile (Optimization and C++17 if constexpr)</a></li>


                            <li class="navbar-block">

                        <li class="wicht-navbar-right">
                            <a target="_blank" title="Follow @wichtounet on Twitter" href="https://twitter.com/wichtounet">
                                <img src="../../../assets/img/twitter.png" alt="Follow @wichtounet on Twitter"></a>
                        </li>

                        <li class="wicht-navbar-right">
                            <a target="_blank" title="Follow +BaptisteWicht on Google+" href="https://plus.google.com/+BaptisteWicht">
                                <img src="../../../assets/img/google_plus.png" alt="Follow +BaptisteWicht on Google+"></a>
                        </li>


                    </ul>
</div>
<!-- /.navbar-collapse -->
            </nav>
</div> <!-- col -->
        <div class="col-sm-9 col-lg-10">
            <div id="content"></div>
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">DLL: Pretty printing and live output</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    Baptiste Wicht
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2017-11-19T15:15:57+01:00" itemprop="datePublished" title="2017-11-19 15:15">2017-11-19 15:15</time></a></p>
                <p class="commentline">
        
    <a href="dll-pretty-printing-and-live-output.html#disqus_thread" data-disqus-identifier="cache/posts/2017/11/dll-pretty-printing-and-live-output.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="dll-pretty-printing-and-live-output.rst" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>I've improved a lot the display of my Deep Learning Library (DLL). I know this
is generally not the most important point in a machine learning framework, but
the first impression being important. Therefore, I decided it was time to get
a nicer output in the console for training networks.</p>
<p>A network or a dataset can be displayed using the <code>display()</code> function.
I've added a <code>display_pretty()</code> function to them to display it more
nicely. I've also added the <code>dll::dump_timers_nice()</code> function to do the
same for <code>dll::dump_timers()</code>.</p>
<p>I've also improved the display for the results of the batches during training.
Now, the display is updated every 100ms and it also displays the current
estimated time until the end of the epoch. With that, the user should have
a much better idea on what's going on during training, especially when training
networks when the epochs are taking a long time to complete.</p>
<p>Here is a full output of the training of fully-connected network on MNIST
(<cite>mnist_mlp.cpp &lt;https://github.com/wichtounet/dll/blob/master/examples/src/mnist_mlp.cpp&gt;</cite>):</p>
<pre class="code bash"><a name="rest_code_b22fca5a86324227834abfbec852343a-1"></a> ------------------------------------------------------------
<a name="rest_code_b22fca5a86324227834abfbec852343a-2"></a> <span class="p">|</span> Index <span class="p">|</span> Layer                <span class="p">|</span> Parameters <span class="p">|</span> Output Shape <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-3"></a> ------------------------------------------------------------
<a name="rest_code_b22fca5a86324227834abfbec852343a-4"></a> <span class="p">|</span> <span class="m">0</span>     <span class="p">|</span> Dense<span class="o">(</span>SIGMOID<span class="o">)</span> <span class="o">(</span>dyn<span class="o">)</span> <span class="p">|</span>     <span class="m">392000</span> <span class="p">|</span> <span class="o">[</span>Bx500<span class="o">]</span>      <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-5"></a> <span class="p">|</span> <span class="m">1</span>     <span class="p">|</span> Dropout<span class="o">(</span><span class="m">0</span>.50<span class="o">)(</span>dyn<span class="o">)</span>   <span class="p">|</span>          <span class="m">0</span> <span class="p">|</span> <span class="o">[</span>Bx500<span class="o">]</span>      <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-6"></a> <span class="p">|</span> <span class="m">2</span>     <span class="p">|</span> Dense<span class="o">(</span>SIGMOID<span class="o">)</span> <span class="o">(</span>dyn<span class="o">)</span> <span class="p">|</span>     <span class="m">125000</span> <span class="p">|</span> <span class="o">[</span>Bx250<span class="o">]</span>      <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-7"></a> <span class="p">|</span> <span class="m">3</span>     <span class="p">|</span> Dropout<span class="o">(</span><span class="m">0</span>.50<span class="o">)(</span>dyn<span class="o">)</span>   <span class="p">|</span>          <span class="m">0</span> <span class="p">|</span> <span class="o">[</span>Bx250<span class="o">]</span>      <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-8"></a> <span class="p">|</span> <span class="m">4</span>     <span class="p">|</span> Dense<span class="o">(</span>SOFTMAX<span class="o">)</span> <span class="o">(</span>dyn<span class="o">)</span> <span class="p">|</span>       <span class="m">2500</span> <span class="p">|</span> <span class="o">[</span>Bx10<span class="o">]</span>       <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-9"></a> ------------------------------------------------------------
<a name="rest_code_b22fca5a86324227834abfbec852343a-10"></a>                Total Parameters:     <span class="m">519500</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-11"></a>
<a name="rest_code_b22fca5a86324227834abfbec852343a-12"></a> --------------------------------------------
<a name="rest_code_b22fca5a86324227834abfbec852343a-13"></a> <span class="p">|</span> mnist <span class="p">|</span> Size  <span class="p">|</span> Batches <span class="p">|</span> Augmented Size <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-14"></a> --------------------------------------------
<a name="rest_code_b22fca5a86324227834abfbec852343a-15"></a> <span class="p">|</span> train <span class="p">|</span> <span class="m">60000</span> <span class="p">|</span> <span class="m">600</span>     <span class="p">|</span> <span class="m">60000</span>          <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-16"></a> <span class="p">|</span> <span class="nb">test</span>  <span class="p">|</span> <span class="m">10000</span> <span class="p">|</span> <span class="m">100</span>     <span class="p">|</span> <span class="m">10000</span>          <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-17"></a> --------------------------------------------
<a name="rest_code_b22fca5a86324227834abfbec852343a-18"></a>
<a name="rest_code_b22fca5a86324227834abfbec852343a-19"></a>Train the network with <span class="s2">"Stochastic Gradient Descent"</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-20"></a>    Updater: NADAM
<a name="rest_code_b22fca5a86324227834abfbec852343a-21"></a>       Loss: CATEGORICAL_CROSS_ENTROPY
<a name="rest_code_b22fca5a86324227834abfbec852343a-22"></a> Early Stop: Goal<span class="o">(</span>error<span class="o">)</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-23"></a>
<a name="rest_code_b22fca5a86324227834abfbec852343a-24"></a>With parameters:
<a name="rest_code_b22fca5a86324227834abfbec852343a-25"></a>          <span class="nv">epochs</span><span class="o">=</span><span class="m">50</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-26"></a>      <span class="nv">batch_size</span><span class="o">=</span><span class="m">100</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-27"></a>   <span class="nv">learning_rate</span><span class="o">=</span><span class="m">0</span>.002
<a name="rest_code_b22fca5a86324227834abfbec852343a-28"></a>           <span class="nv">beta1</span><span class="o">=</span><span class="m">0</span>.9
<a name="rest_code_b22fca5a86324227834abfbec852343a-29"></a>           <span class="nv">beta2</span><span class="o">=</span><span class="m">0</span>.999
<a name="rest_code_b22fca5a86324227834abfbec852343a-30"></a>
<a name="rest_code_b22fca5a86324227834abfbec852343a-31"></a>epoch   <span class="m">0</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.04623 loss: <span class="m">0</span>.15097 <span class="nb">time</span> 3230ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-32"></a>epoch   <span class="m">1</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.03013 loss: <span class="m">0</span>.09947 <span class="nb">time</span> 3188ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-33"></a>epoch   <span class="m">2</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.02048 loss: <span class="m">0</span>.06565 <span class="nb">time</span> 3102ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-34"></a>epoch   <span class="m">3</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.01593 loss: <span class="m">0</span>.05258 <span class="nb">time</span> 3189ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-35"></a>epoch   <span class="m">4</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.01422 loss: <span class="m">0</span>.04623 <span class="nb">time</span> 3160ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-36"></a>epoch   <span class="m">5</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.01112 loss: <span class="m">0</span>.03660 <span class="nb">time</span> 3131ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-37"></a>epoch   <span class="m">6</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.01078 loss: <span class="m">0</span>.03546 <span class="nb">time</span> 3200ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-38"></a>epoch   <span class="m">7</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.01003 loss: <span class="m">0</span>.03184 <span class="nb">time</span> 3246ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-39"></a>epoch   <span class="m">8</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00778 loss: <span class="m">0</span>.02550 <span class="nb">time</span> 3222ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-40"></a>epoch   <span class="m">9</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00782 loss: <span class="m">0</span>.02505 <span class="nb">time</span> 3119ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-41"></a>epoch  <span class="m">10</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00578 loss: <span class="m">0</span>.02056 <span class="nb">time</span> 3284ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-42"></a>epoch  <span class="m">11</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00618 loss: <span class="m">0</span>.02045 <span class="nb">time</span> 3220ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-43"></a>epoch  <span class="m">12</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00538 loss: <span class="m">0</span>.01775 <span class="nb">time</span> 3444ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-44"></a>epoch  <span class="m">13</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00563 loss: <span class="m">0</span>.01803 <span class="nb">time</span> 3304ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-45"></a>epoch  <span class="m">14</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00458 loss: <span class="m">0</span>.01598 <span class="nb">time</span> 3577ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-46"></a>epoch  <span class="m">15</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00437 loss: <span class="m">0</span>.01436 <span class="nb">time</span> 3228ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-47"></a>epoch  <span class="m">16</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00360 loss: <span class="m">0</span>.01214 <span class="nb">time</span> 3180ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-48"></a>epoch  <span class="m">17</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00405 loss: <span class="m">0</span>.01309 <span class="nb">time</span> 3090ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-49"></a>epoch  <span class="m">18</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00408 loss: <span class="m">0</span>.01346 <span class="nb">time</span> 3045ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-50"></a>epoch  <span class="m">19</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00337 loss: <span class="m">0</span>.01153 <span class="nb">time</span> 3071ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-51"></a>epoch  <span class="m">20</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00297 loss: <span class="m">0</span>.01021 <span class="nb">time</span> 3131ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-52"></a>epoch  <span class="m">21</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00318 loss: <span class="m">0</span>.01103 <span class="nb">time</span> 3076ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-53"></a>epoch  <span class="m">22</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00277 loss: <span class="m">0</span>.00909 <span class="nb">time</span> 3090ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-54"></a>epoch  <span class="m">23</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00242 loss: <span class="m">0</span>.00818 <span class="nb">time</span> 3163ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-55"></a>epoch  <span class="m">24</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00267 loss: <span class="m">0</span>.00913 <span class="nb">time</span> 3229ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-56"></a>epoch  <span class="m">25</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00295 loss: <span class="m">0</span>.00947 <span class="nb">time</span> 3156ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-57"></a>epoch  <span class="m">26</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00252 loss: <span class="m">0</span>.00809 <span class="nb">time</span> 3066ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-58"></a>epoch  <span class="m">27</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00227 loss: <span class="m">0</span>.00773 <span class="nb">time</span> 3156ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-59"></a>epoch  <span class="m">28</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00203 loss: <span class="m">0</span>.00728 <span class="nb">time</span> 3158ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-60"></a>epoch  <span class="m">29</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00240 loss: <span class="m">0</span>.00753 <span class="nb">time</span> 3114ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-61"></a>epoch  <span class="m">30</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00263 loss: <span class="m">0</span>.00864 <span class="nb">time</span> 3099ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-62"></a>epoch  <span class="m">31</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00210 loss: <span class="m">0</span>.00675 <span class="nb">time</span> 3096ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-63"></a>epoch  <span class="m">32</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00163 loss: <span class="m">0</span>.00628 <span class="nb">time</span> 3120ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-64"></a>epoch  <span class="m">33</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00182 loss: <span class="m">0</span>.00611 <span class="nb">time</span> 3045ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-65"></a>epoch  <span class="m">34</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00125 loss: <span class="m">0</span>.00468 <span class="nb">time</span> 3140ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-66"></a>epoch  <span class="m">35</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00183 loss: <span class="m">0</span>.00598 <span class="nb">time</span> 3093ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-67"></a>epoch  <span class="m">36</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00232 loss: <span class="m">0</span>.00711 <span class="nb">time</span> 3068ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-68"></a>epoch  <span class="m">37</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00170 loss: <span class="m">0</span>.00571 <span class="nb">time</span> 3057ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-69"></a>epoch  <span class="m">38</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00162 loss: <span class="m">0</span>.00530 <span class="nb">time</span> 3115ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-70"></a>epoch  <span class="m">39</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00155 loss: <span class="m">0</span>.00513 <span class="nb">time</span> 3226ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-71"></a>epoch  <span class="m">40</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00150 loss: <span class="m">0</span>.00501 <span class="nb">time</span> 2987ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-72"></a>epoch  <span class="m">41</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00122 loss: <span class="m">0</span>.00425 <span class="nb">time</span> 3117ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-73"></a>epoch  <span class="m">42</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00108 loss: <span class="m">0</span>.00383 <span class="nb">time</span> 3102ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-74"></a>epoch  <span class="m">43</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00165 loss: <span class="m">0</span>.00533 <span class="nb">time</span> 2977ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-75"></a>epoch  <span class="m">44</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00142 loss: <span class="m">0</span>.00469 <span class="nb">time</span> 3009ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-76"></a>epoch  <span class="m">45</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00098 loss: <span class="m">0</span>.00356 <span class="nb">time</span> 3055ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-77"></a>epoch  <span class="m">46</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00127 loss: <span class="m">0</span>.00409 <span class="nb">time</span> 3076ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-78"></a>epoch  <span class="m">47</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00132 loss: <span class="m">0</span>.00438 <span class="nb">time</span> 3068ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-79"></a>epoch  <span class="m">48</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00130 loss: <span class="m">0</span>.00459 <span class="nb">time</span> 3045ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-80"></a>epoch  <span class="m">49</span>/50 batch  <span class="m">600</span>/ <span class="m">600</span> - error: <span class="m">0</span>.00107 loss: <span class="m">0</span>.00365 <span class="nb">time</span> 3103ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-81"></a>Restore the best <span class="o">(</span>error<span class="o">)</span> weights from epoch <span class="m">45</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-82"></a>Training took 160s
<a name="rest_code_b22fca5a86324227834abfbec852343a-83"></a>
<a name="rest_code_b22fca5a86324227834abfbec852343a-84"></a>Evaluation Results
<a name="rest_code_b22fca5a86324227834abfbec852343a-85"></a>   error: <span class="m">0</span>.01740
<a name="rest_code_b22fca5a86324227834abfbec852343a-86"></a>    loss: <span class="m">0</span>.07861
<a name="rest_code_b22fca5a86324227834abfbec852343a-87"></a>evaluation took 67ms
<a name="rest_code_b22fca5a86324227834abfbec852343a-88"></a>
<a name="rest_code_b22fca5a86324227834abfbec852343a-89"></a> -----------------------------------------------------------------------------
<a name="rest_code_b22fca5a86324227834abfbec852343a-90"></a> <span class="p">|</span> %        <span class="p">|</span> Timer                         <span class="p">|</span> Count  <span class="p">|</span> Total     <span class="p">|</span> Average   <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-91"></a> -----------------------------------------------------------------------------
<a name="rest_code_b22fca5a86324227834abfbec852343a-92"></a> <span class="p">|</span> <span class="m">100</span>.000% <span class="p">|</span> net:train:ft                  <span class="p">|</span> <span class="m">1</span>      <span class="p">|</span> <span class="m">160</span>.183s  <span class="p">|</span> <span class="m">160</span>.183s  <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-93"></a> <span class="p">|</span> <span class="m">100</span>.000% <span class="p">|</span> net:trainer:train             <span class="p">|</span> <span class="m">1</span>      <span class="p">|</span> <span class="m">160</span>.183s  <span class="p">|</span> <span class="m">160</span>.183s  <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-94"></a> <span class="p">|</span>  <span class="m">99</span>.997% <span class="p">|</span> net:trainer:train:epoch       <span class="p">|</span> <span class="m">50</span>     <span class="p">|</span> <span class="m">160</span>.178s  <span class="p">|</span> <span class="m">3</span>.20356s  <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-95"></a> <span class="p">|</span>  <span class="m">84</span>.422% <span class="p">|</span> net:trainer:train:epoch:batch <span class="p">|</span> <span class="m">30000</span>  <span class="p">|</span> <span class="m">135</span>.229s  <span class="p">|</span> <span class="m">4</span>.50764ms <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-96"></a> <span class="p">|</span>  <span class="m">84</span>.261% <span class="p">|</span> sgd::train_batch              <span class="p">|</span> <span class="m">30000</span>  <span class="p">|</span> <span class="m">134</span>.971s  <span class="p">|</span> <span class="m">4</span>.49904ms <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-97"></a> <span class="p">|</span>  <span class="m">44</span>.404% <span class="p">|</span> sgd::grad                     <span class="p">|</span> <span class="m">30000</span>  <span class="p">|</span> <span class="m">71</span>.1271s  <span class="p">|</span> <span class="m">2</span>.3709ms  <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-98"></a> <span class="p">|</span>  <span class="m">35</span>.453% <span class="p">|</span> sgd::forward                  <span class="p">|</span> <span class="m">30000</span>  <span class="p">|</span> <span class="m">56</span>.7893s  <span class="p">|</span> <span class="m">1</span>.89298ms <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-99"></a> <span class="p">|</span>  <span class="m">32</span>.245% <span class="p">|</span> sgd::update_weights           <span class="p">|</span> <span class="m">90000</span>  <span class="p">|</span> <span class="m">51</span>.6505s  <span class="p">|</span> <span class="m">573</span>.894us <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-100"></a> <span class="p">|</span>  <span class="m">32</span>.226% <span class="p">|</span> sgd::apply_grad:nadam         <span class="p">|</span> <span class="m">180000</span> <span class="p">|</span> <span class="m">51</span>.6211s  <span class="p">|</span> <span class="m">286</span>.783us <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-101"></a> <span class="p">|</span>  <span class="m">28</span>.399% <span class="p">|</span> dense:dyn:forward             <span class="p">|</span> <span class="m">180300</span> <span class="p">|</span> <span class="m">45</span>.4903s  <span class="p">|</span> <span class="m">252</span>.303us <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-102"></a> <span class="p">|</span>  <span class="m">17</span>.642% <span class="p">|</span> dropout:train:forward         <span class="p">|</span> <span class="m">60000</span>  <span class="p">|</span> <span class="m">28</span>.2595s  <span class="p">|</span> <span class="m">470</span>.99us  <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-103"></a> <span class="p">|</span>  <span class="m">13</span>.707% <span class="p">|</span> net:trainer:train:epoch:error <span class="p">|</span> <span class="m">50</span>     <span class="p">|</span> <span class="m">21</span>.957s   <span class="p">|</span> <span class="m">439</span>.14ms  <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-104"></a> <span class="p">|</span>  <span class="m">12</span>.148% <span class="p">|</span> dense:dyn:gradients           <span class="p">|</span> <span class="m">90000</span>  <span class="p">|</span> <span class="m">19</span>.4587s  <span class="p">|</span> <span class="m">216</span>.207us <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-105"></a> <span class="p">|</span>   <span class="m">4</span>.299% <span class="p">|</span> sgd::backward                 <span class="p">|</span> <span class="m">30000</span>  <span class="p">|</span> <span class="m">6</span>.88546s  <span class="p">|</span> <span class="m">229</span>.515us <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-106"></a> <span class="p">|</span>   <span class="m">3</span>.301% <span class="p">|</span> dense:dyn:backward            <span class="p">|</span> <span class="m">60000</span>  <span class="p">|</span> <span class="m">5</span>.28729s  <span class="p">|</span> <span class="m">88</span>.121us  <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-107"></a> <span class="p">|</span>   <span class="m">0</span>.560% <span class="p">|</span> dense:dyn:errors              <span class="p">|</span> <span class="m">60000</span>  <span class="p">|</span> <span class="m">896</span>.471ms <span class="p">|</span> <span class="m">14</span>.941us  <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-108"></a> <span class="p">|</span>   <span class="m">0</span>.407% <span class="p">|</span> dropout:backward              <span class="p">|</span> <span class="m">60000</span>  <span class="p">|</span> <span class="m">651</span>.523ms <span class="p">|</span> <span class="m">10</span>.858us  <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-109"></a> <span class="p">|</span>   <span class="m">0</span>.339% <span class="p">|</span> dropout:test:forward          <span class="p">|</span> <span class="m">60000</span>  <span class="p">|</span> <span class="m">542</span>.799ms <span class="p">|</span> <span class="m">9</span>.046us   <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-110"></a> <span class="p">|</span>   <span class="m">0</span>.161% <span class="p">|</span> net:compute_loss:CCE          <span class="p">|</span> <span class="m">60100</span>  <span class="p">|</span> <span class="m">257</span>.915ms <span class="p">|</span> <span class="m">4</span>.291us   <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-111"></a> <span class="p">|</span>   <span class="m">0</span>.099% <span class="p">|</span> sgd::error                    <span class="p">|</span> <span class="m">30000</span>  <span class="p">|</span> <span class="m">158</span>.33ms  <span class="p">|</span> <span class="m">5</span>.277us   <span class="p">|</span>
<a name="rest_code_b22fca5a86324227834abfbec852343a-112"></a> -----------------------------------------------------------------------------
</pre>
<p>I hope this will make the output of the machine learning framework more useful.</p>
<p>All this support is now in the <strong>master</strong> branch of the DLL project if you want
to check it out. You can also check out the example online:
<a class="reference external" href="https://github.com/wichtounet/dll/blob/master/examples/src/mnist_mlp.cpp">mnist_mlp.cpp</a></p>
<p>You can access the project <a class="reference external" href="https://github.com/wichtounet/dll">on Github</a>.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/dll.html" rel="tag">dll</a></li>
            <li><a class="tag p-category" href="../../../categories/machine-learning.html" rel="tag">Machine Learning</a></li>
            <li><a class="tag p-category" href="../../../categories/projects.html" rel="tag">projects</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="inventor-on-four-new-research-patents.html" rel="prev" title="Inventor on four new research patents">Previous post</a>
            </li>
            <li class="next">
                <a href="initial-support-for-long-short-term-memory-lstm-in-dll.html" rel="next" title="Initial support for Long Short Term Memory (LSTM) in DLL">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="blogwichtounet",
            disqus_url="https://baptiste-wicht.com/posts/2017/11/dll-pretty-printing-and-live-output.html",
        disqus_title="DLL: Pretty printing and live output",
        disqus_identifier="cache/posts/2017/11/dll-pretty-printing-and-live-output.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div> <!-- col -->
    </div>
<!-- row  -->
</div>
<!-- container-fluid -->

<!-- End of Menubar -->

<!-- Footer -->

<footer>
    Contents © 2018         <a href="mailto:baptistewicht@gmail.com">Baptiste Wicht</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         - License: 
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="padding-left:5px;border-width:0" src="../../../assets/img/cc.png"></a>
        <ul class="footer_inline_ul">
<li>
    <a href="dll-pretty-printing-and-live-output.rst" id="sourcelink">Source</a>
    </li>

        </ul></footer><!-- Late loading stuff  --><script src="../../../assets/js/all-nocdn.js"></script><!-- Google platform JS -->
</body>
</html>
