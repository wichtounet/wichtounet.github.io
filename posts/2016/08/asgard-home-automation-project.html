<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="http://baptiste-wicht.com/posts/2016/08/asgard-home-automation-project.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Asgard: Home Automation project | @Blog("Baptiste Wicht")</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="http://baptiste-wicht.com/posts/2016/08/asgard-home-automation-project.html">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2175227-7']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script><meta name="author" content="Baptiste Wicht">
<link rel="prev" href="update-thor-thesis-and-publications.html" title="Update: Thor, Thesis and Publications" type="text/html">
<link rel="next" href="../09/expression-templates-library-etl-10.html" title="Expression Templates Library (ETL) 1.0" type="text/html">
<meta property="og:site_name" content='@Blog("Baptiste Wicht")'>
<meta property="og:title" content="Asgard: Home Automation project">
<meta property="og:url" content="http://baptiste-wicht.com/posts/2016/08/asgard-home-automation-project.html">
<meta property="og:description" content="I have updated my asgard project to make it finally useful for me, so I figured
I'd present the project now.
Asgard is my project of home automation based on a Raspberry Pi. I started this
project aft">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-08-27T22:28:16+02:00">
<meta property="article:tag" content="asgard">
<meta property="article:tag" content="Personal">
<meta property="article:tag" content="projects">
<link href="../../../favicon.ico" rel="icon" type="image/x-icon">
<link href="../../../assets/css/tx3-tag-cloud.css" rel="stylesheet" type="text/css">
</head>
<body>

<!-- Menubar -->

<div class="container-fluid">
<!-- This keeps the margins nice -->
    <div class="row">
        <div class="col-sm-3 col-lg-2">
            <nav class="navbar navbar-inverse navbar-fixed-side"><div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="http://baptiste-wicht.com/">
                        <span id="blog-title">@Blog("Baptiste Wicht")</span>
                    </a>
                </div>
<!-- /.navbar-header -->

                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav">
<li>
                            <div class="g-person" data-width="275" data-href="//plus.google.com/u/0/103113673902796202116" data-theme="dark" data-layout="landscape" data-rel="author"></div>
                        </li>

                        
                <li>
<a href="../../../stories/about.html">About</a>
                </li>
<li>
<a href="../../../stories/publications.html">Publications</a>
                </li>
<li>
<a href="../../../categories/index.html">Tags</a>
                </li>
<li>
<a href="../../../archive.html">Archives</a>
                </li>
<li>
<a href="http://feeds.feedburner.com/BaptisteWicht">RSS</a>



                            </li>
<li class="navbar-content">
                                <h3>Related posts</h3>
                            </li>
                            

                            <li><a href="../../2013/07/home-server-adventure-step-1.html">Home Server Adventure - Step 1</a></li>
<li><a href="../../2014/01/home-server-adventure-step-3.html">Home Server Adventure – Step 3</a></li>
<li><a href="../../2013/08/home-server-adventure-step-2.html">Home Server Adventure - Step 2</a></li>
<li><a href="../../2013/08/norco-rpc-230-case-review.html">Norco RPC 230 Case Review</a></li>
<li><a href="update-thor-thesis-and-publications.html">Update: Thor, Thesis and Publications</a></li>


                            <li class="navbar-block">

                        <li class="wicht-navbar-right">
                            <a target="_blank" title="Follow @wichtounet on Twitter" href="https://twitter.com/wichtounet">
                                <img src="../../../assets/img/twitter.svg" alt="Follow @wichtounet on Twitter"></a>
                        </li>

                        <li class="wicht-navbar-right">
                            <a target="_blank" title="Follow +BaptisteWicht on Google+" href="https://plus.google.com/+BaptisteWicht">
                                <img src="../../../assets/img/google_plus.svg" alt="Follow +BaptisteWicht on Google+"></a>
                        </li>


                    </ul>
</div>
<!-- /.navbar-collapse -->
            </nav>
</div> <!-- col -->
        <div class="col-sm-9 col-lg-10">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Asgard: Home Automation project</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Baptiste Wicht
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2016-08-27T22:28:16+02:00" itemprop="datePublished" title="2016-08-27 22:28">2016-08-27 22:28</time></a></p>
                <p class="commentline">
        
    <a href="asgard-home-automation-project.html#disqus_thread" data-disqus-identifier="cache/posts/2016/08/asgard-home-automation-project.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="asgard-home-automation-project.rst" id="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>I have updated my asgard project to make it finally useful for me, so I figured
I'd present the project now.</p>
<p>Asgard is my project of home automation based on a Raspberry Pi. I started this
project after Ninja Blocks kickstarter company went down and I was left with
useless sensors. So I figured why not have fun creating my own :P I know there
are some other projects out there that are pretty good, but I wanted to do some
more low level stuff for once, so what the hell.</p>
<p>Of course, everything is written in C++, no surprise here. The project is built
upon a server / drivers architecture. The drivers and the server are talking via
network sockets, so they can be on different machines.  The server is displaying
the data it got on a web interface and also provide a way to trigger actions of
drivers either from the web interface or through the integrated rules engine.
The data are stored in a database, accessed with CPPSqlite3 (probably going to
be replaced by sqlcpp11) and the web server is handled with mongoose (with a c++
interface).</p>
<p>I must mention that most of the web part of the project was made by a student of
mine, Stéphane Ly, who work on it as part of his study.</p>
<p>Here is a picture of the Raspberry Pi system (not very pretty ;) ):</p>
<img alt="/images/asgard_hardware.jpg" class="align-center" src="../../../images/asgard_hardware.jpg"><p>I plan to try to fit at least some of it on a nicer box with nicer cables and
such. Moreover, I also plan to add real antennas to the RF transmitter and
receiver, but I haven't received them so far.</p>
<div class="section" id="sensors">
<h2>Sensors</h2>
<p>asgard support several sensors:</p>
<ul class="simple">
<li>DHT11 Temperature/Humdity Sensor</li>
<li>WT450 Temperature/Humdity Sensor</li>
<li>RF Button</li>
<li>IR Remote</li>
<li>CPU Temperature Sensor</li>
</ul>
<p>You can see the sensors data displayed on the web interface:</p>
<img alt="/images/asgard_home.png" class="align-center" src="../../../images/asgard_home.png">
</div>
<div class="section" id="actions">
<h2>Actions</h2>
<p>There are currently a few actions provided by the drivers:</p>
<ul class="simple">
<li>Wake-On-Lan a computer by its MAC Address</li>
<li>ITT-1500 smart plugs ON and OFF</li>
<li>Kodi actions: Pause / Play / Next / Previous on Kodi</li>
</ul>
<p>Here are the rules engine:</p>
<img alt="/images/asgard_rules.png" class="align-center" src="../../../images/asgard_rules.png">
</div>
<div class="section" id="my-home-automation">
<h2>My home automation</h2>
<p>I'm currently using this system to monitor the temperature in my appartment.
Nothing great so far because I don't have enough sensors yet. And now, I'm also
using a wireless button to turn on my power socket, wait 2 seconds and then
power on my Kodi Home Theater with wake on lan.</p>
<p>It's nothing fancy so far, but it's already better than what I had with Ninja
Blocks, except for the ugly hardware ;).</p>
</div>
<div class="section" id="future">
<h2>Future</h2>
<p>There are still tons of work on the project and on integration in my home.</p>
<ul class="simple">
<li>I'm really dissatisfied with the WT450 sensor, I've ordered new Oregon sensors to try to do better.</li>
<li>I've ordered a few new sensors: Door intrusion detector and motion detector</li>
<li>The rules system needs to be improve to support multiple conditions</li>
<li>I plan to add a simple state system to the asgard server</li>
<li>There are a lot of refactorings necessary in the code and</li>
</ul>
<p>However, I don't know when I'll work on this again, my work on this project is
pretty episodic to say the least.</p>
</div>
<div class="section" id="code">
<h2>Code</h2>
<p>The code is, as always, available on Github. There are multiple repositories:
<a class="reference external" href="https://github.com/search?q=user%3Awichtounet+asgard">all asgard repositories</a>.
It's not that much code for now, about 2000 lines of code, but some of it may be
useful. If you plan to use the system, keep in mind that it was never tested out
of my environment and that there is no documentation so far, but don't hesitate
to open Issues on Github if you have questions or post a comment here.</p>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/asgard.html" rel="tag">asgard</a></li>
            <li><a class="tag p-category" href="../../../categories/personal.html" rel="tag">Personal</a></li>
            <li><a class="tag p-category" href="../../../categories/projects.html" rel="tag">projects</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="update-thor-thesis-and-publications.html" rel="prev" title="Update: Thor, Thesis and Publications">Previous post</a>
            </li>
            <li class="next">
                <a href="../09/expression-templates-library-etl-10.html" rel="next" title="Expression Templates Library (ETL) 1.0">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="blogwichtounet",
            disqus_url="http://baptiste-wicht.com/posts/2016/08/asgard-home-automation-project.html",
        disqus_title="Asgard: Home Automation project",
        disqus_identifier="cache/posts/2016/08/asgard-home-automation-project.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div> <!-- col -->
    </div>
<!-- row  -->
</div>
<!-- container-fluid -->

<!-- End of Menubar -->

<!-- Footer -->

<footer>
    Contents © 2016         <a href="mailto:baptistewicht@gmail.com">Baptiste Wicht</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="padding-left:5px;border-width:0" src="../../../assets/img/cc.png"></a>
        <ul class="footer_inline_ul">
<li>
    <a href="asgard-home-automation-project.rst" id="sourcelink">Source</a>
    </li>

        </ul></footer><!-- Late loading stuff  --><script src="../../../assets/js/all-nocdn.js"></script><!-- Google platform JS --><script type="text/javascript" src="https://apis.google.com/js/platform.js"></script><script type="text/javascript" src="../../../assets/js/jquery.tx3-tag-cloud.js"></script>
</body>
</html>
