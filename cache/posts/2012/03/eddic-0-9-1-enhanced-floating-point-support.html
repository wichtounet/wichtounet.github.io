<p>I just released the version <strong>0.9.1</strong> of the <strong>EDDI</strong> Compiler (eddic).</p>
<p>This release is a minor one, there are no huge changes to the language nor in the compiler itself. But that version was necessary before the 1.0 version. </p>
<p>The floating point support of the language have been enhanced with casts. You can now cast float values to int and vice-versa. The syntax is the same as in C:</p>
<pre class="code literal-block"><span class="kt">void</span> <span class="nf">main</span><span class="p">(){</span>
   <span class="kt">float</span> <span class="n">a</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">;</span>
   <span class="kt">float</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="mi">100</span><span class="p">;</span>
   <span class="n">println</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">b</span><span class="p">);</span>
<span class="p">}</span>
</pre>


<p>Another improvement is the support for integer suffixes for float: </p>
<pre class="code literal-block"><span class="kt">void</span> <span class="nf">main</span><span class="p">(){</span>
   <span class="kt">float</span> <span class="n">a</span> <span class="o">=</span> <span class="mf">100f</span><span class="p">;</span>
<span class="p">}</span>
</pre>


<p>Finally, the optimizer has been adapted to support float as well. The optimization techniques are the same as the one for integers. </p>
<p>Last but not least, the compiler can now pass some parameters in registers. In 32 bits platform, the first integer parameter is passed in a register and on 64 bits platform, the first two parameters are passed in registers. In both architectures, the first float parameter is passed in a SSE register. </p>
<h3>Future work</h3>

<p>The next version will be the <strong>1.0 version</strong>. There will be several major changes with this new version. </p>
<p>First, the optimization engine will be almost entirely rewritten. Global optimization will be added to the engine. </p>
<p>There will also be some improvements in the intermediate representation. I will probably a second level of intermediate representation: a low-level Three Address Code representation. This new intermediate representation will be generated by an <em>IntelCompiler</em> to handle stuff common to both 32 and 64bits code generator. This will also includes a pass for global register allocation. </p>
<p>As these changes will not be simple to implement, this version can takes some time before being released. </p>
<h3>Download</h3>

<p>You can find the compiler sources on the Github repository:Â <a title="eddic on GitHub" href="https://github.com/wichtounet/eddic">https://github.com/wichtounet/eddic</a></p>
<p>The exact version I refer to is the v0.9.1 available in the GitHub tags or directly as the release branch.</p>