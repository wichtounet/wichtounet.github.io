<p>I experienced some problems with Substance in OSGi. Using this code :</p>
<pre class="code literal-block"><span class="n">SubstanceLookAndFeel</span><span class="o">.</span><span class="na">setSkin</span><span class="o">(</span><span class="k">new</span> <span class="n">BusinessBlackSteelSkin</span><span class="o">());</span>
</pre>


<p>I got different errors, like :</p>
<pre>Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException at 
org.pushingpixels.substance.internal.utils.SubstanceColorUtilities.getDefaultBackgroundColor(SubstanceColorUtilities.java:823)</pre>

<p>I found a simple solution to make Substance work in OSGi : </p>
<pre class="code literal-block"><span class="k">try</span> <span class="o">{</span>
      <span class="n">UIManager</span><span class="o">.</span><span class="na">setLookAndFeel</span><span class="o">(</span><span class="k">new</span> <span class="n">SubstanceBusinessBlackSteelLookAndFeel</span><span class="o">());</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">UnsupportedLookAndFeelException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">getClass</span><span class="o">()).</span><span class="na">error</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">(),</span> <span class="n">e</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">UIManager</span><span class="o">.</span><span class="na">getLookAndFeelDefaults</span><span class="o">().</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;ClassLoader&quot;</span><span class="o">,</span> <span class="n">SubstanceBusinessBlackSteelLookAndFeel</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">());</span>
</pre>


<p>With that code, i've no more problems using Substance Look And Feel. </p>
<p>Hope that will help someone.</p>