<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="http://baptiste-wicht.com/index-2.html">
<meta name="description" content="Tutorials and short posts about programming, C++, Java, Assembly, Operating Systems Development, Compilers, ...">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Blog blog("Baptiste Wicht"); (old posts, page 2) | Blog blog("Baptiste Wicht");</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://baptiste-wicht.com/index-2.html">
<link rel="prev" href="index-3.html" type="text/html">
<link rel="next" href="index-1.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2175227-7']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script><link href="favicon.ico" rel="icon" type="image/x-icon">
<link rel="publisher" href="https://plus.google.com/+BaptisteWicht">
</head>
<body>

<!-- Menubar -->

<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<div class="container-fluid">
<!-- This keeps the margins nice -->
    <div class="row">
        <div class="col-sm-3 col-lg-2">
            <nav class="navbar navbar-inverse navbar-fixed-side"><div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="http://baptiste-wicht.com/">
                        <span id="blog-title">Blog blog("Baptiste Wicht");</span>
                    </a>
                </div>
<!-- /.navbar-header -->

                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav">
<li>
<a href="stories/about.html">About</a>
                </li>
<li>
<a href="stories/publications.html">Publications</a>
                </li>
<li>
<a href="categories/index.html">Tags</a>
                </li>
<li>
<a href="archive.html">Archives</a>
                </li>
<li>
<a href="http://feeds.feedburner.com/BaptisteWicht">RSS</a>


                            </li>
<li class="navbar-content">
                                <h3>Tags</h3>
                            </li>
                            <li class="navbar-empty">
                                <div id="tag_cloud_left_container" style="line-height: 18px !important;"></div>
                            </li>
                            <li class="navbar-block">


                        <li class="wicht-navbar-right">
                            <a target="_blank" title="Follow @wichtounet on Twitter" href="https://twitter.com/wichtounet">
                                <img src="assets/img/twitter.png" alt="Follow @wichtounet on Twitter"></a>
                        </li>

                        <li class="wicht-navbar-right">
                            <a target="_blank" title="Follow +BaptisteWicht on Google+" href="https://plus.google.com/+BaptisteWicht">
                                <img src="assets/img/google_plus.png" alt="Follow +BaptisteWicht on Google+"></a>
                        </li>


                    </ul>
</div>
<!-- /.navbar-collapse -->
            </nav>
</div> <!-- col -->
        <div class="col-sm-9 col-lg-10">
            <div id="content"></div>
            
        <article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/03/welcome-to-my-new-website.html" class="u-url">Welcome to my new website !</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-03-17T04:21:29+01:00">2010-03-17 04:21</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<p>Welcome to my new english website :)</p>
<p>I've moved all my english stuff from Developpez.com to make here a completely english website.</p>
<p>I hope you'll find here some interesting stuff. I will publish articles and posts about Java, Spring, Swing, OSGi, Hardware and Web and perhaps others technologies.</p>
<p>Don't hesitate to say me what you think about this website.</p>
</div>
        </div>
            
        
    <a href="posts/2010/03/welcome-to-my-new-website.html#disqus_thread" data-disqus-identifier="cache/posts/2010/03/welcome-to-my-new-website.html">Comments</a>


        </article><article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/03/osgi-and-cyclic-dependencies.html" class="u-url">OSGi and cyclic dependencies</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-03-15T16:19:54+01:00">2010-03-15 16:19</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<p>I'm currently working on the "bundlisation" of the JTheque Core. I choose to cut core into several bundles each one representing a service provided by the core. </p>
<p>I quickly have experencied problems with </p>
<p>I quickly realized that the decoupling of my various services was almost nil. I had a huge number of dependencies for each bundle and worse, I had a lot of cyclic dependencies, either direct or indirect.</p>
<p>For information, a direct cyclic dependency is a situation in which a bundle X depends on a bundle that depends on Y who is also depending itself of X. An indirect dependency cycle is the situation where X depends on Y, Y depends on Z and Z depends on X. I speak here of bundles, but it may relate to projects, classes or packages.</p>
<p>Note that the different techniques that I will present also apply for dependencies between components non-OSGi, the principles are exactly the same.</p>
<p class="more"><a href="posts/2010/03/osgi-and-cyclic-dependencies.html">Read more…</a></p>
</div>
        </div>
            
        
    <a href="posts/2010/03/osgi-and-cyclic-dependencies.html#disqus_thread" data-disqus-identifier="cache/posts/2010/03/osgi-and-cyclic-dependencies.html">Comments</a>


        </article><article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/03/sonar-2-0-released.html" class="u-url">The version 2.0 of Sonar has been released</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-03-11T15:27:25+01:00">2010-03-11 15:27</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<p>The developers of Sonar have just released the version 2.0 of Sonar.</p>
<p>Several major features:</p>
<ul>
<li>Architecture analysis : The architecture of the projects are now analyzed. We can see a matrix of project dependencies and a list of dependencies to delete to improve architecture quality.</li>
    <li>Object oriented analysis : New metrics for the quality of the object oriented conception.</li>
    <li>Improvements of the user interface.</li>
</ul>
<p>Only good stuff :)</p>
<p>I didn't test this new version, i will wait that my plugins be compatibles with the new version, but i will give informations of the new version once installed.</p>
<p>More informations on the <a title="Sonar source" href="http://sonar.codehaus.org/sonar-2-0-in-screenshots/" target="_blank">Sonar website</a>.</p>
</div>
        </div>
            
        
    <a href="posts/2010/03/sonar-2-0-released.html#disqus_thread" data-disqus-identifier="cache/posts/2010/03/sonar-2-0-released.html">Comments</a>


        </article><article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/03/java-swing-focus.html" class="u-url">Manage focus with Swing in Java</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-03-10T11:25:00+01:00">2010-03-10 11:25</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<h4>1. Introduction</h4>

<p>The focus is the "selected" state of a component. The component who has the focus is the active component. It's possible to ask focus fror a specific component but normally this is perfectly managed by Swing.</p>
<p>With this tutorial, you will learn how to ask focus for a specific component and how to define an order of focus. We will also learn a bit about the validation of input fields, the focus listen and the utility of KeyboardFocusManager.</p>
<h4>2. Ask focus</h4>

<p>Normally, the focus is managed by a component on the mouse click or when we come to a component with keyboard. A component who is focused is often visually modified, with a special border or an other background color.</p>
<p>To manage the focus of the windows, it's a little bit different and depends of the operating system, but nothing can give you the guarantee to have focus. On Windows, you can obtain focus on a window using toFront but nothing is guraranteed.</p>
<p>For the components, you can use the requestFocusInWindow() method :</p>
<pre class="code literal-block"><span class="n">component</span><span class="o">.</span><span class="na">requestFocusInWindow</span><span class="o">();</span>
</pre>


<p>To obtain the focus, you have to ask focus after the add of the component but before the display of the window.</p>
<p>Before Java 1.4, you needed to use the requestFocus() method, but now it is not a good idea to use it, because it give also focus to the window of the component, and that's not always possible.</p>
<!--nextpage-->

<h4>3. Navigation keys</h4>

<p>By default, we navigate in an application with the Tab and Shift+Tab keys. But we can edit these keys.</p>
<p>For that, we have to get the keys with getFocusTraversalKeys(int id) and add the new key. By example, here is how to add the Enter key for the forward focus navigation :</p>
<pre class="code literal-block"><span class="n">Set</span> <span class="n">keys</span> <span class="o">=</span> <span class="n">textField</span><span class="o">.</span><span class="na">getFocusTraversalKeys</span><span class="o">(</span><span class="n">KeyboardFocusManager</span><span class="o">.</span><span class="na">FORWARD_TRAVERSAL_KEYS</span><span class="o">);</span>
<span class="n">Set</span> <span class="n">newKeys</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">(</span><span class="n">keys</span><span class="o">);</span>
<span class="n">newKeys</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">KeyStroke</span><span class="o">.</span><span class="na">getKeyStroke</span><span class="o">(</span><span class="n">KeyEvent</span><span class="o">.</span><span class="na">VK_ENTER</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>
<span class="n">textField</span><span class="o">.</span><span class="na">setFocusTraversalKeys</span><span class="o">(</span><span class="n">KeyboardFocusManager</span><span class="o">.</span><span class="na">FORWARD_TRAVERSAL_KEYS</span><span class="o">,</span> <span class="n">newKeys</span><span class="o">);</span>
</pre>


<p>If you want to add a key for the backward navigation, you need to use BACKWARD_TRAVERSAL_KEYS instead of FORWARD_TRAVERSAL_KEYS.</p>
<h4>4. Validate an input</h4>

<p>You often need to validate to validate the inputs of the user in a field. The best way to do that is to test the content directly after the focus lost. Of course, there is still Formatter to do that, but it's possible that you must use the validation on a custom component.</p>
<p>To do that, we'lll use InputVerifier. This InputVerifier enable to get the value of a field when this field lost focus. If the value is not valid, the InputVerifier can execute a particular action by example set the old value in the field insted of the new invalid value or give focus again to the field.</p>
<p>To use it, we've to create a class extending InputVerifier and use the setInputVerifier() method on the component to test :</p>
<pre class="code literal-block"><span class="n">CustomInputVerifier</span> <span class="n">verifier</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CustomInputVerifier</span><span class="o">();</span>
<span class="o">...</span>
<span class="n">monComposant</span><span class="o">.</span><span class="na">setInputVerifier</span><span class="o">(</span><span class="n">verifier</span><span class="o">)</span>
</pre>


<p>The inputVerifier class has only two methods :</p>
<ul>
<li>verifiy(JComponent input) : Indicate if the value of the component is correct. It's must be overriden.</li>
    <li>shouldYieldFocus(JComponent input) : This method idnicate if the component can loose focus or not. If it's return true, the focus change normally to the next component else the focus remains in the</li>
</ul>
<p>current component while the input is invalid. By default, it's only return the value of verify().</p>
<p>For lisibility reasons, it's better to only implement the test of the input value in the verify method and add the other functionalities by example a beep it it's invalid in the shouldYieldFocus method.</p>
<p>We will see a simple example of InputVerifier. This verifier verify that the value is a number greater than zero but lower than x. If the value is not valid, we simple emit a beep.</p>
<pre class="code literal-block"><span class="kn">import</span> <span class="nn">java.awt.Toolkit</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.InputVerifier</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JComponent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JTextField</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">NumberInputVerifier</span> <span class="kd">extends</span> <span class="n">InputVerifier</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">NumberInputVerifier</span><span class="o">(){</span>
        <span class="k">this</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">NumberInputVerifier</span><span class="o">(</span><span class="kt">int</span> <span class="n">maximum</span><span class="o">){</span>
        <span class="kd">super</span><span class="o">();</span>

        <span class="k">this</span><span class="o">.</span><span class="na">max</span> <span class="o">=</span> <span class="n">maximum</span><span class="o">;</span>
    <span class="o">}</span>

   <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">shouldYieldFocus</span><span class="o">(</span><span class="n">JComponent</span> <span class="n">input</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">boolean</span> <span class="n">valid</span> <span class="o">=</span> <span class="n">verify</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">valid</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">Toolkit</span><span class="o">.</span><span class="na">getDefaultToolkit</span><span class="o">().</span><span class="na">beep</span><span class="o">();</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">verify</span><span class="o">(</span><span class="n">JComponent</span> <span class="n">input</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">JTextField</span> <span class="n">field</span> <span class="o">=</span> <span class="o">(</span><span class="n">JTextField</span><span class="o">)</span><span class="n">input</span><span class="o">;</span>

        <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="na">getText</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">intValue</span><span class="o">;</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">intValue</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">NumberFormatException</span> <span class="n">pe</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">if</span><span class="o">(</span><span class="n">intValue</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;</span><span class="n">lt</span><span class="o">;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">intValue</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;</span><span class="n">gt</span><span class="o">;</span> <span class="n">max</span><span class="o">){</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>


<p>You can of course make a lot of things with this class. You can use it to change the format of a number adding " or , or modify everithing else in the input component.</p>
<p>You can also use the same InputVerifier for several components. You just have to test the concerned component with the parameter of the verify method. But don't make too complex InputVerifier.</p>
<!--nextpage-->

<h4>5. Listen the focus</h4>

<p>A first way to know which component has the focus is to use a focus listener. You just have to create a class implementing FocusListener and add this listerner to every components you want to manage. Then, you just have to make things in the methods of the listener : focusGained and focusLost. This way is quite simple, but if you have a lot of components, it will be really heavy to implement.</p>
<p>An other way is to use the KeyboardFocusManager class. You just have to add a PropertyChangeListener on this class and verify the property focusOwner. You can also listener some other things : the focus of the windows, the changes on the focus order, ... You can find here a complete liste of properties. This times, you'll directly see all the focus changes for all the components in your application. If you want to restrain the set of components, you have to use the first way with FocusListener.</p>
<pre class="code literal-block"><span class="n">Here</span> <span class="n">is</span> <span class="n">an</span> <span class="n">example</span> <span class="n">with</span> <span class="n">KeyboardFocusManager</span> <span class="o">:</span>

<span class="n">KeyboardFocusManager</span> <span class="n">focusManager</span> <span class="o">=</span> <span class="n">KeyboardFocusManager</span><span class="o">.</span><span class="na">getCurrentKeyboardFocusManager</span><span class="o">();</span>

<span class="n">focusManager</span><span class="o">.</span><span class="na">addPropertyChangeListener</span><span class="o">(</span>
    <span class="k">new</span> <span class="n">PropertyChangeListener</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">propertyChange</span><span class="o">(</span><span class="n">PropertyChangeEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">properties</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getPropertyName</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">((</span><span class="s">"focusOwner"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">properties</span><span class="o">))</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span><span class="n">amp</span><span class="o">;</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getNewValue</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">Component</span> <span class="n">component</span> <span class="o">=</span> <span class="o">(</span><span class="n">Component</span><span class="o">)</span><span class="n">e</span><span class="o">.</span><span class="na">getNewValue</span><span class="o">();</span>
                <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>

                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">" take focus"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>


<h4>6. Manage the order of focus</h4>

<p>Swing has a correct focus order by default and normally it's enough. But you can change this order, by example to navigate in a complex form. By default, Swing determinate the focus order using the order of adding the components to the content pane.</p>
<p>Before Java 1.4, you had to use setNextFocusableComponent() on every component to specify the next component to have the focus. This method is now deprecated. We'll use the LayoutFocusTraversalPolicy class to define the focus order in a Swing application.</p>
<p>For that, we have to create a new class extending FocusTraversalPolicy and define this set of methods :</p>
<ul>
<li>
<strong>getComponentAfter</strong> : Indicate which component will have focus after the component in parameter.</li>
    <li>
<strong>getComponentBefore</strong> : Indicate which component has the focus before the component in parameter.</li>
    <li>
<strong>getDefaultComponent</strong> : Indicate which component is the default component of the container on which we've applied the policy. It's used when we swith to this focus cycle.</li>
    <li>
<strong>getLastComponent</strong> : Indicate which component is the last of this continer. It's used when we swith to this focus cycle.</li>
    <li>
<strong>getFirstComponent</strong> : Indicate which component is the first of this container. It's used when we swith to this focus cycle.</li>
    <li>
<strong>getInitialComponent</strong> : Indicate which component must have the focus when the window is displayed.</li>
</ul>
<p>Here is a little example :</p>
<pre class="code literal-block"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestFocusTraversalPolicy</span> <span class="kd">extends</span> <span class="n">FocusTraversalPolicy</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getComponentAfter</span><span class="o">(</span><span class="n">Container</span> <span class="n">focusCycleRoot</span><span class="o">,</span> <span class="n">Component</span> <span class="n">aComponent</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component1</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component2</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component2</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component3</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component3</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component4</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component4</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component5</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component5</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component1</span><span class="o">;</span>
        <span class="o">}</span> 

        <span class="k">return</span> <span class="n">component1</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getComponentBefore</span><span class="o">(</span><span class="n">Container</span> <span class="n">focusCycleRoot</span><span class="o">,</span> <span class="n">Component</span> <span class="n">aComponent</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component1</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component5</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component2</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component1</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component3</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component2</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component4</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component3</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">aComponent</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">component5</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">component4</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">component1</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getDefaultComponent</span><span class="o">(</span><span class="n">Container</span> <span class="n">focusCycleRoot</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">component1</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getLastComponent</span><span class="o">(</span><span class="n">Container</span> <span class="n">focusCycleRoot</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">component5</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getFirstComponent</span><span class="o">(</span><span class="n">Container</span> <span class="n">focusCycleRoot</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">component1</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>


<p>The disadvantage of this technique is that the policy must know all the components. That why we often use an inner class to give it access to the member of the current class. Here is a simple example :</p>
<pre class="code literal-block"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">View</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Component</span> <span class="n">component1</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Component</span> <span class="n">component2</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Component</span> <span class="n">component3</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Component</span> <span class="n">component4</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Component</span> <span class="n">component5</span><span class="o">;</span>

    <span class="kd">class</span> <span class="nc">TestFocusTraversalPolicy</span> <span class="kd">extends</span> <span class="n">FocusTraversalPolicy</span> <span class="o">{</span>
        <span class="c1">//Traversal policy methods</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre>


<p>You can also use an inner anonymous class, but with that kind of class, you cannot use it for several components.</p>
<p>To apply this policy, you have to use the setFocusTraversalPolicy() method of the Container class :</p>
<pre class="code literal-block"><span class="n">TestFocusTraversalPolicy</span> <span class="n">newPolicy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TestFocusTraversalPolicy</span><span class="o">();</span>
<span class="n">myContainer</span><span class="o">.</span><span class="na">setFocusTraversalPolicy</span><span class="o">(</span><span class="n">newPo</span>
</pre>


<p>Of course you can define several strategies for several panels or the same policy for several panels.</p>
<p>If you want to restore the default focus policy, you just have to call setFocusTraversalPolicy() with null as parameter.</p>
<p>You can also edit the default FocusTraversalPolicy with one of yours with the setDefaultTraversalPolicy() method from the KeyboardFocusManager class.</p>
<h5>6.1. Simplification</h5>

<p>But it's not very easy to do that and that can quickly be heavy. So here is a simple class to manage the positions of all the components with an integer :</p>
<pre class="code literal-block"><span class="kn">import</span> <span class="nn">java.awt.Component</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Container</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.FocusTraversalPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * A focus traversal policy who manage the order of components in the focus cycle using a int.</span>
<span class="cm"> * The first component of the cycle  has the position of 0 and all the others follows with an interval of 1.</span>
<span class="cm"> * The last component must have the position (size() -1).</span>
<span class="cm"> *</span>
<span class="cm"> * @author Baptiste Wicht</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MapFocusTraversalPolicy</span> <span class="kd">extends</span> <span class="n">FocusTraversalPolicy</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">HashMap</span> <span class="n">components</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">();</span>
    <span class="kd">private</span> <span class="n">HashMap</span> <span class="n">positions</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">();</span>

    <span class="cm">/**</span>
<span class="cm">     * Add the component to the order with the specfieid position.</span>
<span class="cm">     *</span>
<span class="cm">     * @param component The component to add.</span>
<span class="cm">     * @param position The position of the component in the focus cycle root.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addComponent</span><span class="o">(</span><span class="n">Component</span> <span class="n">component</span><span class="o">,</span> <span class="kt">int</span> <span class="n">position</span><span class="o">){</span>
        <span class="n">components</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">position</span><span class="o">,</span> <span class="n">component</span><span class="o">);</span>
        <span class="n">positions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">component</span><span class="o">,</span> <span class="n">position</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getComponentAfter</span><span class="o">(</span><span class="n">Container</span> <span class="n">parent</span><span class="o">,</span> <span class="n">Component</span> <span class="n">component</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">position</span> <span class="o">=</span> <span class="n">positions</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">component</span><span class="o">);</span>

        <span class="k">if</span><span class="o">(</span><span class="n">position</span> <span class="o">=</span> <span class="n">positions</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">){</span>
            <span class="n">position</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">position</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getComponentBefore</span><span class="o">(</span><span class="n">Container</span> <span class="n">parent</span><span class="o">,</span> <span class="n">Component</span> <span class="n">component</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">position</span> <span class="o">=</span> <span class="n">positions</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">component</span><span class="o">);</span>

        <span class="k">if</span><span class="o">(</span><span class="n">position</span> <span class="o">=</span> <span class="mi">0</span><span class="o">){</span>
            <span class="n">position</span> <span class="o">=</span> <span class="n">positions</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">position</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getDefaultComponent</span><span class="o">(</span><span class="n">Container</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getFirstComponent</span><span class="o">(</span><span class="n">Container</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Component</span> <span class="nf">getLastComponent</span><span class="o">(</span><span class="n">Container</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">components</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre>


<p>Vous can use this class as every other focus traversal policy we saw before. Just add all the components before using the policy.</p>
<p>An other way that you can explore it's to make all your components implementing an interface like Focusable with a getFocusPosition() method and use a policy to make the order with that Focusable components.</p>
<h4>7. The KeyboardFocusManager class</h4>

<p>There is also other utilities to the KeyboardFocusManager class.</p>
<p>First, you can change the component who has the focus with the focusXXX methods. By example, you can use the focusNextComponent() method to give the focus to the next component. you can also give the focus to a specific component with the setFocusOwner method or to a window with with the setActiveWindows method.</p>
<p>Then, you can also get the active window, the component with the focux and the container who contains the active component. If the components are in an other thread, you have to use the getGlobalXXX methods to get it.</p>
<!--nextpage-->

<h4>8. Conclusion</h4>

<p>To conclude, you can do almost everithing with the focus system. You can modify the order of focus for the components, say which components must have the focus, make tests on the input fields, know who has the focus. But that's sometimes weird when we start. But once we've understand which classes to use, it is quite simple.</p>
</div>
        </div>
            
        
    <a href="posts/2010/03/java-swing-focus.html#disqus_thread" data-disqus-identifier="cache/posts/2010/03/java-swing-focus.html">Comments</a>


        </article><article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/03/bookmarks-bar-disappears-google-chrome.html" class="u-url">Tip : The bookmarks bar disappears on Google Chrome !</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-03-07T15:15:44+01:00">2010-03-07 15:15</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<p>I Found that my bookmarks bar on Google Chrome disappear sometimes. This behavior is very confusing, is searched a few and i find that it was me that make it disappears and appears.</p>
<p>On Google Chrome, you can hide/display the bookmarks bar using <ctrl> + <b>.</b></ctrl></p>
<p>Hope that will help someone.</p>
</div>
        </div>
            
        
    <a href="posts/2010/03/bookmarks-bar-disappears-google-chrome.html#disqus_thread" data-disqus-identifier="cache/posts/2010/03/bookmarks-bar-disappears-google-chrome.html">Comments</a>


        </article><article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/03/hardware-guide-memory.html" class="u-url">Hardware Guide : The memory chips</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-03-03T13:31:23+01:00">2010-03-03 13:31</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<h4>1. Introduction</h4>

<p>The RAM memory (Random Access Memory) of a computer is used to stock data during their treatment. The operating system will load in memory the useful files and all the datas of the launched programs. Its necessary to have an adequate quantity of memory.</p>
<p>The RAM has two important caracteristics :</p>
<ul>
<li>Speed data access : The access to data in RAM is very fast, a lot more than access to hard disks. It's essential to give access to data in a quick way.</li>
    <li>Volatility : The data doesn't remain in memory after computer shutdown. So this is not a storage device only a temporary data storage device.</li>
</ul>
<p>If a computer doesn't have enough memory, the operating system will simulate virtual memory using the hard disks, but like said above, the access on the hard disk is a lot slower than memory and the performances of the system will decrease.</p>
<p>So this is essential to make the good choice when choosing memory chips.</p>
<p><a href="wp-content/uploads/2010/03/memory_chip.jpg"><img class="size-medium wp-image-194" title="Memory Chip" src="wp-content/uploads/2010/03/memory_chip-300x144.jpg" alt="Memory Chip" width="300" height="144"></a></p>
<p class="more"><a href="posts/2010/03/hardware-guide-memory.html">Read more…</a></p>
</div>
        </div>
            
        
    <a href="posts/2010/03/hardware-guide-memory.html#disqus_thread" data-disqus-identifier="cache/posts/2010/03/hardware-guide-memory.html">Comments</a>


        </article><article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/03/jtheque-is-going-to-osgi.html" class="u-url">JTheque is going to OSGi</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-03-02T13:35:52+01:00">2010-03-02 13:35</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<p>Just a little post to inform you that i'm currently migrating JTheque Core to OSGI / Spring Dynamic Modules. The core will be fractioned into several bundles. The JTheque Modules will also be OSGi bundles.</p>
<p>It will increase the modularity of the different services of the Core. And it will also be a more standard way to develop modules. And last but not least, it's an opportunity for me to learn OSGi and Spring Dm.</p>
</div>
        </div>
            
        
    <a href="posts/2010/03/jtheque-is-going-to-osgi.html#disqus_thread" data-disqus-identifier="cache/posts/2010/03/jtheque-is-going-to-osgi.html">Comments</a>


        </article><article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/02/modular-application-jtheque-core-2-0-3.html" class="u-url">Develop a modular application with JTheque Core 2.0.3</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-02-07T05:38:45+01:00">2010-02-07 05:38</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<h4>1. Introduction</h4>

<p>This article will teach you how to develop a first application with JTheque Core.</p>
<p>We will develop a basic modular application, like an hello world. This little program will be composed of :</p>
<ul>
<li>A JTheque application</li>
    <li>A JTheque module who display an Hello World on the main view</li>
    <li>A module who will add an option menu to display one more time "Hello World"</li>
</ul>
<p class="more"><a href="posts/2010/02/modular-application-jtheque-core-2-0-3.html">Read more…</a></p>
</div>
        </div>
            
        
    <a href="posts/2010/02/modular-application-jtheque-core-2-0-3.html#disqus_thread" data-disqus-identifier="cache/posts/2010/02/modular-application-jtheque-core-2-0-3.html">Comments</a>


        </article><article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/02/hardware-guide-hard-disks.html" class="u-url">Hardware Guide : The Hard Disks</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-02-06T13:25:20+01:00">2010-02-06 13:25</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<p>You want buy a new computer, but you cannot which hard disk to buy ? Or you want to buy a new hard disk for your computer ? So, this article is done for you. It will describe all the things you must be careful of when choosing a hard disk.</p>
<p class="more"><a href="posts/2010/02/hardware-guide-hard-disks.html">Read more…</a></p>
</div>
        </div>
            
        
    <a href="posts/2010/02/hardware-guide-hard-disks.html#disqus_thread" data-disqus-identifier="cache/posts/2010/02/hardware-guide-hard-disks.html">Comments</a>


        </article><article class="postbox h-entry post-text"><h1 class="p-name">
<a href="posts/2010/02/java-keywords.html" class="u-url">The reserved keywords of the Java Language</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-02-03T11:29:29+01:00">2010-02-03 11:29</time></small>
</h1>
        <hr>
<div class="p-summary">
        <div>
<p>This article will present you all the keywords of the Java Language and their purpose.</p>
<p>First of all, what's a reserved keyword ? It's a keyword of the language, for example true.</p>
<p>What does that change for the developer ? You cannot use one of there keywords to name a variable, a method, a class or a package. So you cannot have something like that :</p>
<pre class="code literal-block"><span class="n">Boolean</span> <span class="kc">true</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Boolean</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">true</span><span class="o">{}</span>

<span class="kn">package</span> <span class="nn">com.wichtounet.true</span><span class="o">;</span>
</pre>


<p>This example will not pass the compilation. But you can use it into a variable identifier or by changing the case :</p>
<pre class="code literal-block"><span class="n">Boolean</span> <span class="n">trueBoolean</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Boolean</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TrueBoolean</span><span class="o">{}</span>

<span class="kn">package</span> <span class="nn">com.wichtounet.trueBoolean</span><span class="o">;</span>
</pre>


<p>It's also really important for a developer to know all the keywords and to know how to use them.</p>
<p class="more"><a href="posts/2010/02/java-keywords.html">Read more…</a></p>
</div>
        </div>
            
        
    <a href="posts/2010/02/java-keywords.html#disqus_thread" data-disqus-identifier="cache/posts/2010/02/java-keywords.html">Comments</a>


        </article><nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-3.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div> <!-- col -->
    </div>
<!-- row  -->
</div>
<!-- container-fluid -->

<!-- End of Menubar -->

<!-- Footer -->

<footer>
    Contents © 2016         <a href="mailto:baptistewicht@gmail.com">Baptiste Wicht</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="padding-left:5px;border-width:0" src="assets/img/cc.png"></a>
        <ul class="footer_inline_ul"></ul></footer><!-- Late loading stuff  --><script src="assets/js/all-nocdn.js"></script><script type="text/javascript">
      $(document).ready(function() {
        $.getJSON("/assets/js/tx3_tag_cloud.json", function(data){
            var items = [];
            $.each(data, function(key, val){
                var count = val[0];
                var url = val[1];
                var posts = val[2];

                if(count > 9){
                    items.push("<li data-weight='" + count + "'><a href='" + url + "'>" + key + "</a></li>");
                }
            });

            $("<ul/>", {
                "id": "tag_cloud_left",
                html: items.join("")
            }).appendTo("#tag_cloud_left_container");

            $("#tag_cloud_left").tx3TagCloud({
                multiplier: 0.8 // default multiplier is "1"
            });
        });
      });
    </script><!-- Google platform JS -->
</body>
</html>
