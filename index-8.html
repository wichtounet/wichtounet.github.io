<!DOCTYPE html><html lang="en">
<head>
    <link href="favicon.ico" rel="icon" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Website about vtechnologies Java, Spring, OSGi, Hardware,...">
    <meta name="author" content="Baptiste Wicht">
    <title>@Blog("Baptiste Wicht") (old posts, page 8) | @Blog("Baptiste Wicht")</title>
    
            <link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
      <link rel="canonical" href="http://wichtounet.github.io/index-8.html">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">

    
    
<!--
    <link rel="stylesheet" type="text/css" href="/assets/css/tipuesearch.css">
-->
    
</head>
<body>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid"><!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://wichtounet.github.io/">@Blog("Baptiste Wicht")</a>
        </div><!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                
                <li><a href="stories/about.html">About</a>
                </li><li><a href="stories/publications.html">Publications</a>
                </li><li><a href="stories/donate.html">Donate</a>
                </li><li><a href="stories/contact.html">Contact</a>
                </li><li><a href="stories/faq.html">FAQ</a>
                </li><li><a href="stories/legal.html">Legal</a>
                </li><li><a href="archive.html">Archives</a>
                </li><li><a href="categories/index.html">Tags</a>
                </li><li><a href="rss.xml">RSS</a>

            </li></ul>
            <!--
            <span class="navbar-form pull-left">
                <input type="text" id="tipue_search_input">
            </span>
            -->
            <ul class="nav navbar-nav navbar-right">
                
                
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<!-- End of Menubar -->

<div class="body-container">

    <!-- Sidebar -->

    <div class="left-sidebar">
        <div class="left-sidebar-widget">
            <h3>Welcome to my blog</h3>
            <div class="left-sidebar-widget-content">
                <p>
                    I'm writing about C++, Linux, Gentoo, Home Servers, etc...
                </p>
                <div class="g-person" data-width="275" data-href="//plus.google.com/u/0/103113673902796202116" data-theme="dark" data-layout="landscape" data-rel="author"></div>
            </div>
        </div>
        

        <div class="left-sidebar-widget">
            <h3>Tags</h3>
            <div class="left-sidebar-widget-content">
                <div id="tags_container">
                    <canvas width="275" height="250" id="tags_canvas">
                        <p>Anything in here will be replaced on browsers that support the canvas element</p>
                    </canvas>
                </div>
            </div>
        </div>
        
        <div class="left-sidebar-widget">
            <h3>Blogroll</h3>
            <div class="left-sidebar-widget-content">
                <ul>
                    <li><a target="_blank" href="http://www.asjava.com/">AsJava.com : Java Tutorial</a></li>
                    <li><a target="_blank" href="http://www.mkyong.com/">Mkyong : Java Tutorials</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Content -->

    <div class="container">
        <div class="body-content">

            <!-- <div id="tipue_search_content" style="margin-left: auto; margin-right: auto; padding: 20px;"></div> -->

            <!--Body content-->
            <div class="row">
                
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/profile-applications-java-visualvm.html" class="u-url">Profile your applications with Java VisualVM</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-13T01:08:22+00:00">2010-07-13 01:08</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>When you need to discover what part of an application consume the more CPU or Memory, you must use a profiler to do that.</p>
<p>One profiler, packed by default with the Sun JDK is Java VisualVM. This profiler is really simple to use and really powerful.</p>
<p><a href="wp-content/uploads/2010/07/VisualVM-Startup.png"><img class="size-medium wp-image-718 " title="VisualVM start logo" src="wp-content/uploads/2010/07/VisualVM-Startup-300x175.png" alt="VisualVM start logo" width="300" height="175"></a></p>
<p>In this post, we'll see how to install it and use it to profile an application.</p>
<!--more-->

<p>Normally, to install it, you have nothing to do, because, it's installed with the JDK. But in several Unix system, like Ubuntu, this is not the case. If you want to install it, just use apt-get (or aptitude) :</p>
<p></p><pre>sudo apt-get install visualvm</pre>
<p>To launch it just launch jvisualvm (jvisualvm.exe in the bin directory of the jdk for Windows).</p>
<p>That will open the following window :</p>
<p><a href="wp-content/uploads/2010/07/VisualVM-Start.png"><img class="size-medium wp-image-719" title="VisualVM Main Frame" src="wp-content/uploads/2010/07/VisualVM-Start-300x272.png" alt="VisualVM Main Frame" width="300" height="272"></a></p>
<p>There is not a lot of interesting things to see here. To profile a application, you just have to launch it and VisualVM will detect it as launched :</p>
<p><a href="wp-content/uploads/2010/07/VisualVM-Application.png"><img class="size-medium wp-image-720" title="VisualVm The application" src="wp-content/uploads/2010/07/VisualVM-Application-300x213.png" alt="VisualVm The application" width="300" height="213"></a></p>
<p>After that, you just have to double click to view information about your running application. You've four tabs available for your applications (Overview, Monitor, Threads, Profiler). We'll see all that 4 tabs. First of all, the default tab, the overview :</p>
<p><a href="wp-content/uploads/2010/07/VisualVM-Overview.png"><img class="size-medium wp-image-721" title="VisualVM Overview tab" src="wp-content/uploads/2010/07/VisualVM-Overview-300x223.png" alt="VisualVM Overview tab" width="300" height="223"></a></p>
<p>This tab contains the main informations about the launched application. You can see the main class, the arguments of the command line, the JVM arguments. You can also see what kind of JVM is running your program and where the JVM is located.  And you can see all the properties set in the program.</p>
<p>A more interesting tab is the "Monitor" tab :</p>
<p><a href="wp-content/uploads/2010/07/VisualVM-Monitor.png"><img class="size-medium wp-image-727 " title="VisualVM Monitor tab" src="wp-content/uploads/2010/07/VisualVM-Monitor-300x294.png" alt="VisualVM Monitor tab" width="300" height="294"></a></p>
<p>This tab follow the CPU and Memory usages of your applications. You have 4 graphs in this view. The first one, from left to right, up to down, display the CPU usage and the Garbage Collector CPU usage. The second graph display the usage of the heap space and the PermGen space. The next graph display the total number of classes loaded in the application and the last one displays the number of threads currently running. With these graphs, you can see if your application take too CPU or if there is too memory used by the application.</p>
<p>The third tab provide some details about Threads :</p>
<p><a href="wp-content/uploads/2010/07/VisualVM-Threads.png"><img class="size-medium wp-image-728" title="VisualVM Threads tab" src="wp-content/uploads/2010/07/VisualVM-Threads-300x294.png" alt="VisualVM Threads tab" width="300" height="294"></a></p>
<p>In this view, you can see how the different threads of the application are changing state and how they evolve. You can also see the time each time pass in each state and you can have details about the threads you want.</p>
<p>And now, I think the most interesting tab, is the Profiler one :</p>
<p><a href="wp-content/uploads/2010/07/VisualVM-Profiler.png"><img class="size-medium wp-image-729" title="VisualVM Profiler tab " src="wp-content/uploads/2010/07/VisualVM-Profiler-300x292.png" alt="VisualVM Profiler tab " width="300" height="292"></a></p>
<p>When you open this tab first, it contains no information at all. You must start one kind of profiling before seeing informations. We'll start with CPU profiling. Just click on the CPU button the instrumentation will start. During the instrumentation, the application will be blocked. After the instrumentation, you can access the application again and you will see the results of the profiling be displayed in the table. Of course the profiling has an overhead on your application. Normally it's not visible, but for certain applications, you can loose a lot of fluidity. Here are the results I have obtained with my simple application :</p>
<p><a href="wp-content/uploads/2010/07/VisualVM-Profiler-CPU.png"><img class="size-medium wp-image-730" title="VisualVM CPU profiling" src="wp-content/uploads/2010/07/VisualVM-Profiler-CPU-300x294.png" alt="VisualVM CPU profiling" width="300" height="294"></a></p>
<p>In my example, we can see that the waitForTimeout method takes 81.6% of the CPU time. We can also see that the notifyDecision and getSensor methods are the two next most CPU consuming methods, perhaps, it will be interesting to optimize them.  You can also look at the number of invocations of each, perhaps, you'll find a method that is invoked too much time.</p>
<p>The next profiling we can do is the Memory profiling. Here again, you have to start the profiling and the instrumentation will start and during this, the application will be frozen. Here are the results for my application :</p>
<div class="mceTemp mceIEcenter"><dl id="attachment_731" class="wp-caption aligncenter" style="width: 310px;"> <dt class="wp-caption-dt"><a href="wp-content/uploads/2010/07/VisualVM-Memory.png"><img class="size-medium wp-image-731" title="VisualVM Memory profiling" src="wp-content/uploads/2010/07/VisualVM-Memory-300x199.png" alt="VisualVM Memory profiling" width="300" height="199"></a><span style="line-height: 17px; font-size: 11px;">VisualVM Memory profiling</span></dt> </dl></div>

<p>Here we can see that this application store some big double[] and float[] arrays and that EllipseIterator and BasicStroke classes take also a lot of memory spaces.</p>
<p>In both the memory and CPU profiling, you can save the results to a file to see it later. By example, you can let an application working the all night, save the results the morning and examine them or make three profiling and compare the three.</p>
<p>To conclude, I have to say that this profiler is really simple but also really powerful to use. We've the main features we want for a profiler and the results are really good. That kind of tools can really help you to improve an application to use less CPU and memory. Of course that kind of tool doesn't do everything, it just help showing what part of the application must be improved, the improvement part is the task of the developer and it's not the easiest one. But having that kind of tool is a good start.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/profile-applications-java-visualvm.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/profile-applications-java-visualvm.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/version-control-with-git-book-review.html" class="u-url">Version Control with Git – Book Review</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-12T06:56:53+00:00">2010-07-12 06:56</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>After I had chosen to switch to Git, I thought the time has become to read a complete book on the subject to understand the concepts of Git from the base to further level.</p>
<p>So I chose "Version control with Git", from Jon Loeliger</p>
<p>I just finished to read it, so I will try to give my impressions about this book on this post.</p>
<p><a href="wp-content/uploads/2010/07/oreilly_git.jpeg"><img class="size-full wp-image-711" title="Version control with Git" src="wp-content/uploads/2010/07/oreilly_git.jpeg" alt="Version control with Git" width="300" height="300"></a></p>
<!--more-->

<p>In the first chapter, the author describe Git, it goals and it history. The second one is about the installation of Git.</p>
<p>The next three chapters are about the basic concepts of Git.Add a file, commit the changes, track the changes and view the differences. And how to configure the repository and the global installation. More than that, these chapters explains also how Git store the different objects and track the changes of the repository. The index is also fully explained and we learn how to ignore some files.</p>
<p>After these first chapters, the next chapters are very specific two one feature.</p>
<p></p><ul>
    <li>The sixth chapter is about the commits : Identify the commits, find a commit, view the commit history, ...</li>
    <li>The seventh is about the branches : create branches, switch to another branch, delete a branch, merge 2 branches, ...</li>
    <li>The next one is about the diff : how to read them, how to create them, ...</li>
    <li>The ninth is about the merges. It explains with a lot of precision how the merges are done, the different strategies Git can use and how to solve the problems we can found when merging branches</li>
</ul>
<p>These 4 chapters are really interesting, but sometimes a little boring. There is a lot of informations and the author is going really far into Git. Nevertheless, it's good written.</p>
<p>After that we learn how to alter commits.12</p>
<p>And after, we learn how to work with remote repositories and make our changes available to the other developers. We learn the different ways to work in a project with Git.</p>
<p>The 2 next chapters are bout the patches and the hooks. And the last two are about 2 features less used that are the possibility to combine several repositories into one and the possibility to work with Git in a SVN project.</p>
<p>To conclude, I have to say that this book is an excellent book about Git. It's not only an introduction, it's a complete reference about this great Version Control System. Sometimes, I thought that there is too details about some features, but perhaps for something a little more used to Git, it will be fine. I advice this book to everyone who want to learn almost everything about Git.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/version-control-with-git-book-review.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/version-control-with-git-book-review.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/jr-virtual-machines.html" class="u-url">JR Virtual machines</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-09T07:00:12+00:00">2010-07-09 07:00</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>Until now, we've always had concurrent program working in one virtual machines, but JR provides ways to declare several virtual machines on several different physical machines. A JR Virtual Machine contains a Java Virtual Machine and a layer for the JR language. Once you created some virtual machines, you can specify where an object will be created with a variant of the new operator. After that, almost all the development is transparent. By example,  a send operation on an operation serviced by an other virtual machine is exactly the same as if there is only one virtual machine. You can do exactly the same thing. We'll see that there is some differences, but it's really easy.</p>
<p>An important thing to remember is that all the virtual machines created contains the static part of the application. So all the static part is local to the virtual machines. This can cause really difficult bug to solve if we don't take care.</p>
<!--more-->

<p>So, now that we know the basis of the virtual machines, let's create a new virtual machine :</p>
<p>[java]vm vm1 = new vm();[/java]</p>
<p>That will create a new virtual machine, named vm1, on the same physical machine where the code is executed. You can also choose to create a virtual machine on an other machine :</p>
<p>[java]vm vm2 = new wm() on "192.168.1.200"; //IP Adresse of the machine</p>
<p>vm vm3 = new wm() on "pc12"; //Name of the machine</p>
<p>vm vm4 = new vm() on vm3; //The machine where vm3 is located[/java]</p>
<p>To create a virtual machine on an other machine, you need to right to connect to that computer with ssh or csh without any password. For more informations, the best is to read <a href="http://www.cs.ucdavis.edu/~olsson/research/jr/versions/2.00602/install.html">the official installation guide</a>. </p>
<p>JR provide no way to destroy a virtual machine. Like any other objects, a vm became garbage collected when there is no reference to it and when the virtual machine is idle (all the processes are over or blocked).</p>
<p>If you want to place an object on a virtual machine, you must define it with the remote keyword :</p>
<p>[java]remote Person person = new remote Person();[/java]</p>
<p>By default, the object is created on the same virtual machine where the code is executed, but you can put it in an other virtual machines :</p>
<p>[java]remote Person person = new remote Person() on vm1;[/java]</p>
<p>You can also combine the creation of virtual machine and remote objects in one line :</p>
<p>[java]remote Person person = new remote Person() on new vm() on "localhost";[/java]</p>
<p>Note that the class of any remote object must be declared public.</p>
<p>When working with remote objects, you have access to two new predefined fields :</p>
<p></p><ul>
    <li><strong>this.remote</strong> : Return the remote reference of the current object</li>
    <li><strong>vm.thisvm</strong> : Return the vm in which the current object has been created</li>
</ul>
<p>When you work with a single virtual machine, the parameter are always passed by value, but when you're working with remote references and several virtual machines, you cannot pass the objects by value, instead, a copy of the object is created and passed to the other virtual machines (JR use RMI and serialization to achieve that). So all the objects you pass to others virtual machines must be declared Serializable to pass through the virtual machines.</p>
<p>There is also others aspects that is interesting to know about working with several virtual machines. First of all, the System.out and System.int streams are inherited from the initial virtual machine. So you can see that the order is not always deterministic depending on the fact on the synchronization of the different prints. The first virtual machine begin the execution in the execution directory but the other virtual machines begins the execution in the user home directory.</p>
<p>Let's finish with a little example. By example, if we take the problem of consumer/producer we solved with Asynchronous Message Passing and we create the producer and consumer in different virtual machines, that will give us something like this : </p>
<p>[java]class ProducerConsumer {
    private static final int N = 12; //Number of producers and consumers</p>
<div class="code"><pre><span class="n">private</span> <span class="k">static</span> <span class="n">op</span> <span class="kt">void</span> <span class="nf">deposit</span><span class="p">(</span><span class="n">String</span><span class="p">);</span> <span class="c1">//The channel</span>

<span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="p">...</span> <span class="n">args</span><span class="p">){</span>
    <span class="n">vm</span> <span class="n">vmConsumer</span> <span class="o">=</span> <span class="n">new</span> <span class="n">vm</span><span class="p">();</span>
    <span class="n">vm</span> <span class="n">vmProducer</span> <span class="o">=</span> <span class="n">new</span> <span class="n">vm</span><span class="p">();</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">new</span> <span class="n">remote</span> <span class="n">Consumer</span><span class="p">()</span> <span class="n">on</span> <span class="n">vmConsumer</span><span class="p">;</span>
        <span class="n">new</span> <span class="n">remote</span> <span class="n">Producer</span><span class="p">()</span> <span class="n">on</span> <span class="n">vmProducer</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">public</span> <span class="k">static</span> <span class="n">class</span> <span class="n">Consumer</span> <span class="p">{</span>
    <span class="n">private</span> <span class="k">static</span> <span class="n">process</span> <span class="n">Consumer</span> <span class="p">{</span>
        <span class="n">String</span> <span class="n">data</span><span class="p">;</span>
        <span class="n">receive</span> <span class="nf">deposit</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"Consumer "</span> <span class="o">+</span> <span class="n">data</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">public</span> <span class="k">static</span> <span class="n">class</span> <span class="n">Producer</span> <span class="p">{</span>
    <span class="n">private</span> <span class="k">static</span> <span class="n">process</span> <span class="n">Producer</span> <span class="p">{</span>
        <span class="n">send</span> <span class="n">deposit</span><span class="p">(</span><span class="s">"Producer"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>[/java]</p>
<p>All the consumer are created on a specified virtual machine and the producer in an other virtual machine. Here I create the two virtual machines in the same computer, but you can distribute them along several computers. </p>
<p>Here we are !  That post will be the last of the JR set of posts. </p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/jr-virtual-machines.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/jr-virtual-machines.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/java-se-6-update-21-released.html" class="u-url">Java SE 6 Update 21 Released</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-09T04:26:46+00:00">2010-07-09 04:26</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>Oracle has just released the <strong>Java SE 6 Update 21</strong>.</p>
<p>This version is compatible with <strong>new system configurations</strong> :</p>
<p></p><ul>
    <li>Oracle Enterprise Linux 5.5, 5.4, 4.8</li>
    <li>Red Hat Enterprise Linux 5.5, 5.4</li>
    <li>Oracle VM 2.2.0.0.0</li>
    <li>Google Chrome 4.0</li>
</ul>
<p>This version integrate the <strong>Java Hotspot VM 17.0</strong>. There is several improvements, by example in compressed object pointers, escape analysis, code cache management, Mark-Sweep and G1 garbage collection algorithms. You can <strong>enable G1</strong> with</p>
<p><code>-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC</code></p>
<p>This version integrate also the last version of <strong>Java Visual VM</strong>, the 1.2.2. For more informations, consult the <a href="https://visualvm.dev.java.net/relnotes.html" target="_blank">VisualVM official site</a>.</p>
<p>There is an important bug fix about drag and drop. There is no security updates on this update. The <a href="http://java.sun.com/javase/6/webnotes/BugFixes6u21.html" target="_blank">list of BugFixes</a> on the site of Java.</p>
<p>You can now add a progress indicator in Applet and Java Web Start applications really easily. For informations, you can consult <a href="http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/deployment/doingMoreWithRIA/customizeRIALoadingExperience.html" target="_blank">this list of tutorials</a>.</p>
<p>For complete informations about the release, consult the <a href="http://java.sun.com/javase/6/webnotes/6u21.html" target="_blank">release notes of Java SE 6 Update 21</a>.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/java-se-6-update-21-released.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/java-se-6-update-21-released.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/modular-java-book-review.html" class="u-url">Modular Java – Book Review</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-08T07:12:43+00:00">2010-07-08 07:12</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>Some weeks ago, I finished "Modular Java - Creating Flexible Applications With OSGi and Spring", it's time to do a little review now.</p>
<p><a href="wp-content/uploads/2010/07/1934356409.01.LZZZZZZZ-e1278244106418.jpg"><img class="size-full wp-image-690" title="Modular Java" src="wp-content/uploads/2010/07/1934356409.01.LZZZZZZZ-e1278244106418.jpg" alt="Modular Java" width="150" height="182"></a></p>
<!--more-->

<p>This book is an excellent introduction to the creation of modular applications in Java. It introduces all the main concepts of the OSGi technology, Spring Dynamic Modules and tools making easier the development of OSGi applications.</p>
<p>The first chapter introduce the concept of modularity and explain how OSGi solve the problem. The main characteristics of the technology are also described.</p>
<p>The next chapter lists the main OSGi containers and we create the first Hello World using OSGi. Next we improve this simple program using an OSGi service.</p>
<p>After that the third chapter introduce the application "Dude, Where is my Jar ?". This application is a simple web program allowing a develop to search for a Jar file in Maven repositories. This application is used in all the next chapters. More than this introduction, the chapter also shows how the Pax tools can make easier the development of OSGi applications.</p>
<p>In the next chapter, we create the first bundle of the application. With that bundle we see how to work with non-bundle dependencies. And in the next one, we create the services of the application and see how to publish and consume services.</p>
<p>After that, it's time to use Spring Dynamic Modules with the next chapter. We see how to publish and consume services with Spring.</p>
<p>In the seventh chapter, we develop the web bundle. Fort hat, we include Tomcat or Jetty in the form of OSGi Bundles. We also see the differences between a simple bundle (Jar) and a web bundle (War).</p>
<p>In the next, we see how to extend OSGi bundle using fragment. With that, we see how to separate the JSP part of the application.</p>
<p>The last two chapters are about the deployment in production of an OSGi application and the services offered by the OSGi standard (logging, admin, console, ...).</p>
<p>In conclusion, this book will allows you to start developing application using OSGi. It's really comfortable to follow the development of a simple applications during the entire book. And improve it with each concept of the technology. But I think it's not a very good idea to use that log the Pax Tools. We quickly loose OSGi with Pax. It's quite interesting to know how to use Pax (I use it everyday), but when we start, it's better to see the basic concepts further.</p>
<p>And more, the Maven output, is almost entirely displayed. This not really useful to see that every time when it's not errors, warning or important informations. But nevertheless, the reading of the book is really comfortable and fluid.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/modular-java-book-review.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/modular-java-book-review.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/rendezvous-concurrency-jr.html" class="u-url">Rendezvous, concurrency method, in JR</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-07T07:05:20+00:00">2010-07-07 07:05</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>In this post, we'll see a new feature of JR : the rendezvous.</p>
<p>Like asynchronous message passing, this synchronization method involves two processes : a caller and a receiver. But this time, the invocation is synchronous, the caller delays until the operation completes. The rendezvous does not create a new thread to the receiver. The receiver must invoke an input statement (the implementation of rendezvous) and wait for the message. Like asynchronous message passing, this is achieved using operations as message queue.</p>
<!--more-->

<p>The rendezvous can simplify this kind of operations :</p>
<p>[java]int x;</p>
<p>int y;</p>
<p>send op_command(2, 3);</p>
<p>receive(x, y);[/java]</p>
<p>To make a rendezvous, we'use the input statement. I think it's the harder (but also most complete) statement of the JR programming language. Here is the general form :</p>
<p>[java]inni op_command {</p>
<p>//Code block</p>
<p>}</p>
<p>[] op_command {</p>
<p>//Code block</p>
<p>}..[/java]</p>
<p>An op_command specifiy an operation to wait for. An op_command is of this form :</p>
<p>[java]return_type op_exp(args) st synch by sched[/java]</p>
<p>Explanations :</p>
<p></p><ul>
    <li>return_type : Indicate the return type of the operation we are waiting for</li>
    <li>op_exp : The name of the operation or the capability</li>
    <li>args : The arguments of the operation</li>
    <li>st synch : Add a condition to the operations. This condition indicates which messages are acceptable</li>
    <li>by sched : Dictate the order of servicing the messages. Must be numerical. The message with the lowest value of scheduling expression will be serviced in first.</li>
</ul>
<p>If there is no synchronization expression and no scheduling expression, the first serviced invocation is the oldest. If there is a synchronization expression, the first serviced invocation is the oldest selectable expression and if there is a scheduling expression, the first serviced is the first selectable invocation that minimizes the scheduling expression. If there is no selectable message, the input statement delays until there is one.</p>
<p>You can also add an else statement to the input statement :</p>
<p>[java]inni op_command {</p>
<p>//Code block</p>
<p>} ...</p>
<p>[] else {</p>
<p>//Code block</p>
<p>}[/java]</p>
<p>The else block will be executed if there is no selectable message. So an input statement with an else statement will never delays.</p>
<p>Lets imagine a simple example. The server return the sum of 2 numbers after receiving a message. If we write this simple program using asynchronous message, it'll give us something like that :</p>
<p>[java]public class Calculator {
    private static op void request(int x, int y);
    private static op void response(int sum, int sub);</p>
<div class="code"><pre><span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="p">...</span> <span class="n">args</span><span class="p">){}</span>

<span class="n">private</span> <span class="k">static</span> <span class="n">process</span> <span class="n">Client</span> <span class="p">{</span>
    <span class="n">send</span> <span class="n">request</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="mi">22</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">sum</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">sub</span><span class="p">;</span>
    <span class="n">receive</span> <span class="nf">response</span><span class="p">(</span><span class="n">sum</span><span class="p">,</span> <span class="n">sub</span><span class="p">);</span>

    <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">"Sum %d Sub %d"</span><span class="p">,</span> <span class="n">sum</span><span class="p">,</span> <span class="n">sub</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">private</span> <span class="k">static</span> <span class="n">process</span> <span class="n">Server</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">y</span><span class="p">;</span>
    <span class="n">receive</span> <span class="nf">request</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
    <span class="n">send</span> <span class="nf">response</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>


<p>}[/java]</p>
<p>It little bit complicated for a thing as simple, isn't it ? Let's rewrite it with input statement :</p>
<p>[java]public class CalculatorInni {
    private static op int compute(int x, int y);</p>
<div class="code"><pre><span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="p">...</span> <span class="n">args</span><span class="p">){}</span>

<span class="n">private</span> <span class="k">static</span> <span class="n">process</span> <span class="n">Client</span> <span class="p">{</span>
    <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">"Sum %d"</span><span class="p">,</span> <span class="n">compute</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="mi">22</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">private</span> <span class="k">static</span> <span class="n">process</span> <span class="n">Server</span> <span class="p">{</span>
    <span class="n">inni</span> <span class="kt">int</span> <span class="n">compute</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>}[/java]</p>
<p>Easier, shorter and clearer, isn't it ?</p>
<p>The Client invoke the compute operation and get the return value directly because it's synchronous. If you have an operation with a return value, you doesn't have to use the call statement, it's implicit. If you have a void operation, you can use the call statement (but if you don't, it's the same by default) before the operation :</p>
<p>[java]call op_command(args);[/java]</p>
<p>And the Server has only to use the input statement to return the sum of the numbers.</p>
<p>As you've perhaps seen, the receive is only an abbreviation to the simplest form of input statement. So if you write :</p>
<p>[java]int x;</p>
<p>int y;</p>
<p>receive op_command(x[/java]/pre&gt;</p>
<p>It's the same as if you write :</p>
<p>[java]inni void op_command(int a, int b){
      x = a;
      y = b;
}[/java]</p>
<p>But in this case, it's easier to use the receive statement.</p>
<p>The input statement can also be used to service a group of operations in an array :</p>
<p>[java]cap void (int) operations = new cap void (int)[12];</p>
<p>//Fill the array</p>
<p>inni ((int i = 0; i &amp;lt; 12; i++)) operations<a href="posts/2010/07/int%20x">i</a> {
   //Code b
}[/java]</p>
<p>More than return, we could also use two new statements in an input statement :</p>
<ul>
    <li>reply : return a value to the caller but doesn't break the input statement, so you can still make operations in the input statement but you cannot return a value anymore.</li>
    <li>forward : delegate the answer to an other operation. So this is the other operation who will answer to the caller, the input statement continues its execution but cannot return a value anymore.</li>
</ul>

<p>Now that we know how to use input statement, we can simplify the ResourceAllocator of the next post. We can do a lot more easier, with two operations and input statements :</p>
<p>[java]import java.util.*;</p>
<p>public class ResourceAllocator {
    private static final int N = 25; //Number of clients
    private static final int I = 25; //Number of iterations</p>
<div class="code"><pre><span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="p">...</span> <span class="n">args</span><span class="p">){}</span>

<span class="n">private</span> <span class="k">static</span> <span class="n">op</span> <span class="n">Resource</span> <span class="nf">request</span><span class="p">();</span>
<span class="n">private</span> <span class="k">static</span> <span class="n">op</span> <span class="kt">void</span> <span class="nf">release</span><span class="p">(</span><span class="n">Resource</span><span class="p">);</span>

<span class="n">private</span> <span class="k">static</span> <span class="n">process</span> <span class="n">Client</span><span class="p">((</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">lt</span><span class="p">;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)){</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">a</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">lt</span><span class="p">;</span> <span class="n">I</span><span class="p">;</span> <span class="n">a</span><span class="o">++</span><span class="p">){</span>
        <span class="n">Resource</span> <span class="n">resource</span> <span class="o">=</span> <span class="n">request</span><span class="p">();</span>

        <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">printf</span><span class="p">(</span><span class="s">"Client %d use resource %d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">resource</span><span class="p">.</span><span class="n">getId</span><span class="p">());</span>

        <span class="n">call</span> <span class="nf">release</span><span class="p">(</span><span class="n">resource</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">private</span> <span class="k">static</span> <span class="n">process</span> <span class="n">Server</span><span class="p">{</span>
    <span class="n">Queue</span> <span class="n">resources</span> <span class="o">=</span> <span class="n">new</span> <span class="n">LinkedList</span><span class="p">();</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">lt</span><span class="p">;</span><span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">resources</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">new</span> <span class="n">Resource</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">){</span>
        <span class="n">inni</span> <span class="n">Resource</span> <span class="n">request</span><span class="p">()</span> <span class="n">st</span> <span class="o">!</span><span class="n">resources</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">resources</span><span class="p">.</span><span class="n">poll</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="p">[]</span> <span class="kt">void</span> <span class="n">release</span><span class="p">(</span><span class="n">Resource</span> <span class="n">resource</span><span class="p">){</span>
            <span class="n">resources</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">resource</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">private</span> <span class="k">static</span> <span class="n">final</span> <span class="n">class</span> <span class="n">Resource</span> <span class="p">{</span>
    <span class="n">private</span> <span class="n">final</span> <span class="kt">int</span> <span class="n">id</span><span class="p">;</span>

    <span class="n">private</span> <span class="nf">Resource</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">){</span>
        <span class="n">super</span><span class="p">();</span>

        <span class="n">this</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">id</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">private</span> <span class="kt">int</span> <span class="nf">getId</span><span class="p">(){</span>
        <span class="k">return</span> <span class="n">id</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>}[/java]</p>
<p>Clearer, not ?</p>
<p>The last improvement we can do is to use a send instead of a call in the Client. We doesn't need to wait for release in client and the input statement can service send invocations as well as call but the send  invocations cannot return something.</p>
<p>So we've now covered the rendezvous synchronization system in the JR system. In the next, and last, post about JR programming language, we'll see how to distribute our processes on several virtual machines.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/rendezvous-concurrency-jr.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/rendezvous-concurrency-jr.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/integrate-play-framework-intellij-idea.html" class="u-url">Tip : Integrate Play Framework in IntelliJ Idea</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-06T07:02:49+00:00">2010-07-06 07:02</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>After <a target="_blank" href="http://www.baptiste-wicht.com/2010/07/getting-started-play-framework/">created a <strong>Play Framework</strong> first application</a>, it's time to integrate it in <strong>IntelliJ Idea</strong>. </p>
<p>This is made really easy because, play provide a command to create the Iml module file for the project. You can use the command play idealize app_name to create a iml module file. </p>
<!--more-->

<p>So let's try : </p>
<p></p><pre>wichtounet@Linux-Desktop:~/dev/play$ play idealize hello/
<p>~        _            _ </p>
<p>~  _ <strong> | | </strong> _ <em>  </em>| |</p>
<p>~ | '<em> \| |/ </em>' | || |_|</p>
<p>~ |  <strong>/|_|_</strong><em>|_</em> (_)</p>
<p>~ |_|            |__/   </p>
<p>~</p>
<p>~ play! 1.0.3, http://www.playframework.org</p>
<p>~</p>
<p>~ OK, the application is ready for Intellij Idea</p>
<p>~ Use File/New Module/Import Existing module</p>
<p>~</p>
<p>wichtounet@Linux-Desktop:~/dev/play$ </p></pre>
<p>If you go on the hello folder, you'll found a "Hello World.iml" file. "Hello World" is the name of the application. So you just have to add it to a IntelliJ Idea project. And it's almost done. </p>
<p><a href="wp-content/uploads/2010/07/Play-Idea-1.png"><img src="wp-content/uploads/2010/07/Play-Idea-1.png" alt="Play Framework Project in Idea" title="Play Framework Project in Idea" width="834" height="396" class="size-full wp-image-675"></a></p>
<p>The libraries are good configured, the test folder is already configured as a test folder. But a thing we can do is to ignore the logs and tmp folders, not really useful during development. </p>
<p><a href="wp-content/uploads/2010/07/Play-Idea-2.png"><img src="wp-content/uploads/2010/07/Play-Idea-2-300x178.png" alt="Ignore the logs and tmp folders" title="Ignore the logs and tmp folders" width="300" height="178" class="size-medium wp-image-676"></a></p>
<p>And last, the sources of the Play Framework aren't linked, so we can add them :</p>
<p><a href="wp-content/uploads/2010/07/Play-Idea-3.png"><img src="wp-content/uploads/2010/07/Play-Idea-3.png" alt="Add the sources of the framework" title="Add the sources of the framework" width="559" height="470" class="size-full wp-image-677"></a></p>
<p>And now we've a fully configured Play Framework Project in our editor : </p>
<p><a href="wp-content/uploads/2010/07/Play-Idea-4.png"><img src="wp-content/uploads/2010/07/Play-Idea-4.png" alt="Complete Play Framework Integration" title="Complete Play Framework Integration" width="834" height="396" class="size-full wp-image-678"></a></p>
<p>Great, not ? </p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/integrate-play-framework-intellij-idea.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/integrate-play-framework-intellij-idea.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/replace-an-old-copyright-by-a-new-one.html" class="u-url">Tip Replace an old copyright by a new one</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-05T13:29:14+00:00">2010-07-05 13:29</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>Today, I searched a tool to <strong>replace</strong> the old copyright of the GNU GPL V3 license by the copyright of the Apache License 2.0. But I've not found a simple tool to do a <strong>multi-line replacement</strong> in a complete set of files. So like the developer I'm, I decided to do it myself. And because it can be useful to someone else and because open source is good, I also decided to give it to everything that want :)</p>
<p>The usage is quite simple :</p>
<p></p><pre>java -jar RCR.jar old_file new_file file</pre>
<ul>
    <li>old_file is the path to a file containing the old copyright</li>
    <li>new_file is the path to the file containing the new copyright</li>
    <li>file is a folder to make the replacements in. If it's a folder, all the files and sub-folders will be searched for replacements.</li>
</ul>

<p>Here, I'm talking about a copyright, but it of course also works for any other multi-line replacement you want. </p>
<p>The jar is available here : <a href="wp-content/uploads/2010/07/RCR.jar">RCR.jar</a></p>
<p>The sources is available here : <a href="wp-content/uploads/2010/07/RCR.java">RCR.java</a></p>
<p>I hope that will be useful to someone. </p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/replace-an-old-copyright-by-a-new-one.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/replace-an-old-copyright-by-a-new-one.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/getting-started-play-framework.html" class="u-url">Getting started with Play Framework</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-05T07:02:34+00:00">2010-07-05 07:02</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>It's time for me to test the <strong>Play Framework</strong> and I'll try to make some posts during my tests about this web framework. </p>
<p>Play Framework is a framework to create web applications in Java. The main goals of this framework are (according to the official site) : </p>
<p></p><ul>
    <li><strong>Hot reload</strong> : You can edit your java files and html files and you just have to refresh the browser to see the results</li>
    <li><strong>Stateless model</strong> : Play is ready for REST, it can be scaled running multiple instances of the same applications on several servers</li>
    <li><strong>Efficient Template System</strong> : The template system is really easy to use, based on Groovy.</li>
    <li><strong>Resolve errors quickly</strong> : When an error occurs, Play displays directly the code source in the browser and the location of the error</li>
    <li><strong>Integration</strong> : Play provide integration for Hibernate, OpenID, MemCached and others popular frameworks</li>
    <li><strong>Pure Java</strong> : You make only Java and HTML, no other things to learn and easy integration in IDE. </li>
    <li><strong>Fast</strong> : The startup of application is really fast the rendering of the pages also very fast.</li>
</ul>
<p>In this post, we'll see how to install the Play Framework and how to write our first Hello World. </p>
<!--more-->

<h4>Install Play Framework</h4>

<p>Before installing Play Framework, you need Java 5.0 or later. Then, you can download a release of Play : http://download.playframework.org/releases/. The latest when I wrote this post is the 1.0.3 version. So let's download this version. After that, just unzip the given archive where you want to install the framework. After that, you just have to add the play command to the path. </p>
<p>In Ubuntu 10.04, I had to do the following : </p>
<pre>PLAY_HOME=/usr/share/apps/play/

PATH=$PATH:$PLAY_HOME

chmod +x PLAY_HOME/play</pre>

<p>Depending on your configuration, you perhaps have to use sudo for the chmod command. For other systems (Windows and Mac), you also have to add play (play.bat for Windows) to path using the system configuration. </p>
<p>And normally, after that, you can execute the play command : </p>
<pre>wichtounet@Linux-Desktop:~$ play

~        _            _ 

~  _ __ | | __ _ _  _| |

~ | '_ \| |/ _' | || |_|

~ |  __/|_|\____|\__ (_)

~ |_|            |__/   

~

~ play! 1.0.3, http://www.playframework.org

~

~ Usage: play cmd [app_path] [--options]

~ 

~ with,  new      Create a new application

~        run      Run the application in the current shell

~        help     Show play help

~

wichtounet@Linux-Desktop:~$ </pre>

<h4>Creating a new application</h4>

<p>To create a new application, you just have to use the command  </p>
<p>play new app_name</p>
<p>You must be in a folder where a folder with the name app_name can be created. For example, let's create a new application "hello" : </p>
<pre>wichtounet@Linux-Desktop:~/dev/play$ play new hello

~        _            _ 

~  _ __ | | __ _ _  _| |

~ | '_ \| |/ _' | || |_|

~ |  __/|_|\____|\__ (_)

~ |_|            |__/   

~

~ play! 1.0.3, http://www.playframework.org

~

~ The new application will be created in /home/wichtounet/dev/play/hello

~ What is the application name? Hello World

~

~ OK, the application is created.

~ Start it with : play run hello

~ Have fun!

~

wichtounet@Linux-Desktop:~/dev/play$ </pre>

<p>During the creation, Play will ask you for the name of the application. Here I put "Hello World" as the name of the application. If you go into the new created application folder, you will see the given folders : </p>
<ul>
    <li><strong>app</strong> : The applications itself, Java classes and HTML files</li>
    <li><strong>conf</strong> : The configuration of the application</li>
    <li><strong>lib</strong> : Contains the Java libraries that the application needs</li>
    <li><strong>public</strong> : Contains the public files, images, CSS, JS</li>
    <li><strong>test</strong> : Contains the tests (JUnit or Selenium) file</li>
</ul>

<p>You can launch your application, with the command : </p>
<pre>wichtounet@Linux-Desktop:~/dev/play$ play run hello

~        _            _ 

~  _ __ | | __ _ _  _| |

~ | '_ \| |/ _' | || |_|

~ |  __/|_|\____|\__ (_)

~ |_|            |__/   

~

~ play! 1.0.3, http://www.playframework.org

~

~ Ctrl+C to stop

~ 

Listening for transport dt_socket at address: 8000

17:49:56,395 INFO  ~ Starting /home/wichtounet/dev/play/hello

17:49:56,889 WARN  ~ You're running Play! in DEV mode

17:49:56,958 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...

17:50:01,670 INFO  ~ Application 'Hello World' is now started !</pre>

<p>And you can browse your application at the URL http://localhost:9000/. You will normally see a sample page : </p>
<p><a href="wp-content/uploads/2010/07/HelloWorld1.png"><img src="wp-content/uploads/2010/07/HelloWorld1-300x295.png" alt="Play Framework sample page" title="Play Framework sample page" width="300" height="295" class="size-medium wp-image-668"></a></p>
<h4>How does it works ?</h4>

<p>So now, let's study why this work. If you open the file conf/routes, you will see that line : </p>
<p>GET     /                                       Application.index</p>
<p>That indicates that the index of the project will be serviced from the index method of the Application class. And if you open the app/controllers/Application.java file, you will see : </p>
<p>[java]package controllers;</p>
<p>import play.mvc.*;</p>
<p>public class Application extends Controller {
    public static void index() {
        render();
    }
}[/java]</p>
<p>So at this time, the index() only renders the default template. This template is app/views/Application/index.html (like the name of the method and the class) : </p>
<p>[html]#{extends 'main.html' /}</p>
<h2>{set title:'Home' /}</h2>
<h2>{welcome /}[/html]</h2>
<p>We can see that this template extends the main.html template. It sets the title to home and display the welcome prompt. These tags are tags from the Play Framework. Lets change this template to : </p>
<p>[html]#{extends 'main.html' /}</p>
<h2>{set title:'Hello World' /}</h2>
<p>&lt;h3&gt;Hello the world !&lt;/h3&gt;[/html]</p>
<p>And refresh the application page. You will see now only the message "Hello the world". If you want to see something when the controllers is called, just add a System.out.println in the Application.index : </p>
<p>[java]public static void index() {
    System.out.println("render()");
    render();
}[/java]</p>
<p>And you will see logs in the console when you refresh the pages : </p>
<pre>17:50:01,670 INFO  ~ Application 'Hello World' is now started !

render()

render()

render()

render()

render()</pre>

<h4>Add a simple new page</h4>

<p>To do a little more in this post, let's add a new page : http://localhost:9000/bye. Let's start adding a new route in conf/routes : </p>
<pre>GET     /bye                                     Application.bye</pre>

<p>So we have to add a method bye in the Application class : </p>
<p>[java]package controllers;</p>
<p>import play.mvc.*;</p>
<p>public class Application extends Controller {
    public static void index() {
        render();
    }</p>
<div class="code"><pre><span class="n">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">bye</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">render</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>


<p>}[/java]</p>
<p>And then, we just need to add a new template bye.html in app/views/Application/ folder : </p>
<p>[html]#{extends 'main.html' /}</p>
<h2>{set title:'Bye' /}</h2>
<p>&lt;h3&gt;Bye bye !&lt;/h3&gt;[/html]</p>
<p>And now, if you go to http://localhost:9000/bye you will see our new page : </p>
<p><a href="wp-content/uploads/2010/07/Bye.png"><img src="wp-content/uploads/2010/07/Bye-300x76.png" alt="A Bye page in Play Framework" title="A Bye page in Play Framework" width="300" height="76" class="size-medium wp-image-670"></a></p>
<h4>Conclusion</h4>

<p>Here we are ! With this framework, it's extremely easy to create web applications. And we've only see a very small part of the facilities this framework offers to create web applications. I'll try to write others posts on the subject. </p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/getting-started-play-framework.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/getting-started-play-framework.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2010/07/tip-how-to-solve-agent-admitted-failure-to-sign-using-the-key-error.html" class="u-url">Tip : How to solve “agent admitted failure to sign using the key” error ?</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2010-07-04T16:59:41+00:00">2010-07-04 16:59</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>A very simple tip that can save a lot of time. </p>
<p>When i wanted to do a git clone, I had the given error : </p>
<p></p><pre>Agent admitted failure to sign using the key.
<p>Permission denied (publickey).</p></pre>
<p>I found that this is an SSH error. </p>
<p>One of the readers, Leonardo Hessel, pointed that out that ssh-add is also a solution: </p>
<p>[shell]ssh-add[/shell]</p>
<p>Another solution is simply to login and logout and it should work. </p></div>
        </div>
            
        
    <p>
        <a href="posts/2010/07/tip-how-to-solve-agent-admitted-failure-to-sign-using-the-key-error.html#disqus_thread" data-disqus-identifier="cache/posts/2010/07/tip-how-to-solve-agent-admitted-failure-to-sign-using-the-key-error.html">Comments</a>


        </p></article>
    
        <div>
        <ul class="pager">
            <li class="previous">
                <a href="index-9.html" rel="prev">← Newer posts</a>
            </li>
            <li class="next">
                <a href="index-7.html" rel="next">Older posts →</a>
            </li>
        </ul>
        </div>

    
        
       <script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>


	


            </div>
            <!--End of body content-->
        </div>
    </div>
</div>

<!-- Footer -->

<footer>
    Contents © 2014         <a href="mailto:baptistewicht@gmail.com">Baptiste Wicht</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/4.0/88x31.png"></a>
        <ul class="footer_inline_ul">
            
        </ul>
</footer>


            <script src="assets/js/all-nocdn.js" type="text/javascript"></script>


    <script type="text/javascript">
      $(document).ready(function() {
        jQuery.getJSON('/assets/js/tag_cloud_data.json', function(data) {
            var items = [];

            $.each(data, function(key, val) {
                items.push('<li><a href="' + val[1] +'" '+'data-weight="'+val[0]+'"'+'>' + key + '</a></li>');
            });

            $('<div/>', {
                'id': 'tags',
                html: '<ul>' + items.join('') + '</ul>'
            }).appendTo('body');

            if(!$('#tags_canvas').tagcanvas({
                textColour: '#FFFFFF',
                outlineColour: '#ff00ff',
                reverse: true,
                depth: 0.8,
                maxSpeed: 0.05,
                weight: true,
                weightFrom: "data-weight",
                weightSizeMin: 8,
                weightSizeMax: 24
            },'tags')) {
            // something went wrong, hide the canvas container
            $('#tags_container').hide();
            }});
        });
    </script>
    
    <script type="text/javascript" src="https://apis.google.com/js/platform.js"></script>


    
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5327566b264df4ee"></script>
<script type="text/javascript">
  addthis.layers({
    'theme' : 'dark',
    'share' : {
      'position' : 'right',
      //'services' : 'google_plusone,facebook_like,tweet',
      'services' : 'google_plusone_share,facebook,twitter'
    }, 
    'follow' : {
      'services' : [
        {'service': 'twitter', 'id': 'wichtounet'},
        {'service': 'google_follow', 'id': '+BaptisteWicht'}
      ]
    }   
  });
</script>



    <!-- Search -->

<!--
    <script type="text/javascript" src="/assets/js/tipuesearch_set.js"></script>
    <script type="text/javascript" src="/assets/js/tipuesearch.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#tipue_search_input').tipuesearch({
            'mode': 'json',
            'contentLocation': '/assets/js/tipuesearch_content.json',
            'showUrl': false
            });
            });
    </script>
-->

    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>

    

</body>
</html>