<!DOCTYPE html><html lang="en">
<head>
    <link href="favicon.ico" rel="icon" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Website about vtechnologies Java, Spring, OSGi, Hardware,...">
    <meta name="author" content="Baptiste Wicht">
    <title>@Blog("Baptiste Wicht") (old posts, page 14) | @Blog("Baptiste Wicht")</title>
    
            <link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
      <link rel="canonical" href="http://wichtounet.github.io/index-14.html">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">

    
    
    <link rel="stylesheet" type="text/css" href="assets/css/tipuesearch.css">
    
</head>
<body>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid"><!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://wichtounet.github.io/">@Blog("Baptiste Wicht")</a>
        </div><!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                
                <li><a href="stories/about.html">About</a>
                </li><li><a href="stories/publications.html">Publications</a>
                </li><li><a href="stories/donate.html">Donate</a>
                </li><li><a href="stories/contact.html">Contact</a>
                </li><li><a href="stories/faq.html">FAQ</a>
                </li><li><a href="stories/legal.html">Legal</a>
                </li><li><a href="archive.html">Archives</a>
                </li><li><a href="categories/index.html">Tags</a>
                </li><li><a href="rss.xml">RSS</a>

            </li></ul>

            <span class="navbar-form pull-left">
                <form action="stories/search.html">
                    <div style="float: left;"><input type="text" name="q" id="tipue_search_input"></div>
                    <div style="float: left; margin-left: 13px;"><input type="button" id="tipue_search_button" onclick="this.form.submit();"></div>
                </form>
            </span>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<!-- End of Menubar -->

<div class="body-container">

    <!-- Sidebar -->

    <div class="left-sidebar">
            <div class="left-sidebar-widget">
                <h3>Welcome to my blog</h3>
                <div class="left-sidebar-widget-content">
                    <!-- <p>
                        I'm writing about C++, Linux, Gentoo, Home Servers, etc...
                    </p> -->
                    <div class="g-person" data-width="275" data-href="//plus.google.com/u/0/103113673902796202116" data-theme="dark" data-layout="landscape" data-rel="author"></div>
                </div>
            </div>

            <div class="left-sidebar-widget">
                <h3>Tags</h3>
                <div class="left-sidebar-widget-content">
                    <div id="tags_container">
                        <canvas width="275" height="250" id="tags_canvas">
                            <p>Anything in here will be replaced on browsers that support the canvas element</p>
                        </canvas>
                    </div>
                </div>
            </div>
        
        <div class="left-sidebar-widget">
            <h3>Recent comments</h3>
            <div class="left-sidebar-widget-content">
                <div id="recentcomments" class="dsq-widget">
                    <script type="text/javascript" src="http://blogwichtounet.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=28&amp;excerpt_length=50"></script> 
                </div>
            </div>
        </div>

        <div class="left-sidebar-widget">
            <h3>Popular posts</h3>
            <div class="left-sidebar-widget-content">
                <div id="popularthreads" class="dsq-widget">
                    <script type="text/javascript" src="http://blogwichtounet.disqus.com/popular_threads_widget.js?num_items=5&amp;days_back=90"></script>
                </div>
            </div>
        </div>
        
        <div class="left-sidebar-widget">
            <h3>Blogroll</h3>
            <div class="left-sidebar-widget-content">
                <ul>
                    <li><a target="_blank" href="http://www.asjava.com/">AsJava.com : Java Tutorial</a></li>
                    <li><a target="_blank" href="http://www.mkyong.com/">Mkyong : Java Tutorials</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Content -->

    <div class="container">
            <div class="body-content">

            <div class="row">
                
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/07/eddi-0-4-1-loops-and-better-assembly-generation.html" class="u-url">EDDI 0.4.1 : Loops and better assembly generation</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-07-28T09:06:50+00:00">2011-07-28 09:06</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>I just released the 0.4.1 version of the EDDI compiler.</p>
<p>This version introduce two kind of loops :</p>
<ul>
<li>the while loop</li>
<li>the for loop, in its general form with three expressions</li>
</ul>
<p>Moreover, you can now use parenth in mathematical expressions.</p>
<p>That's it for the new features, but the compiler has been greatly improved. Now the scope of variables is managed, so you can have twice the same variables as long as they are not visible at the same time.</p>
<p>For the assembly, there have been many improvements. The variables are not stored in a more efficient way, the concatenation of strings has been improved to take less space and other little changes have been made. The Lexer has been rewritten using a Scanner to manage the source file directly so that the error do now give the line and the column of the error source. The Parser and the Compiler itself have had some refactorings, but nothing really big.</p>
<p>You can find the compiler on the Github repository : <a href="https://github.com/wichtounet/eddic">https://github.com/wichtounet/eddic</a></p>
<p>The exact version I refer to is the v0.4.1 available in the github tags.</p>
<p>The next version will certainly see more loops versions, some assembly refinements and perhaps first kind of function calls. I will also try to escalate the Token information in order to have better reporting when there are semantic errors. I will also some refactorings in the parse node to have a better integration of the Condition and the StringPool.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/07/eddi-0-4-1-loops-and-better-assembly-generation.html#disqus_thread" data-disqus-identifier="cache/posts/2011/07/eddi-0-4-1-loops-and-better-assembly-generation.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/07/eddi-0-4-native-compilation-swap.html" class="u-url">EDDI 0.4 : Native compilation and swap operator</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-07-20T09:27:13+00:00">2011-07-20 09:27</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>The version 0.4 of EDDI is released. </p>
<p>There is only one new feature, the swap operator () to swap two variables together, but the biggest news is that now EDDI is not anymore an interpreted language, but is a compiled language. </p>
<p>In fact, I rewritten the compiler in order to output Linux assembly code. For now the code is only 32 bits, but I plan to support 64 as well. I made that change in order to not having to write a virtual machine and in order to learn assembly as well. The current outputted assembly code is not really optimized and there will certainly be a lot of changes. Indeed, in order to simplify the switch to native compiler, I continued using stack operations, so that the numeric computations have a lot have a lot of stack operations in it. Moreover, I'm far from being a professional in assembly, so that, they can beginner's errors in the generated code. </p>
<p>I use as to compile the assembly and then gcc to link. I will try to not depend on gcc, but it seems to be difficult if I want to use malloc (used for the string concatenation). </p>
<p>You can download the sources and find some information on the GitHub repository : https://github.com/wichtounet/eddic/ (check the tag v0.4 if you want the exact version I refer in this post). </p>
<p>Do not hesitate to send me your comments about the C++ code, the design or the outputted assembly. </p>
<p>The first version will see loops integrated, certainly some assembly optimizations and some code refactorings I planned.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/07/eddi-0-4-native-compilation-swap.html#disqus_thread" data-disqus-identifier="cache/posts/2011/07/eddi-0-4-native-compilation-swap.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/07/profile-applications-linux-perf-tools.html" class="u-url">How to profile your applications using the Linux perf tools</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-07-18T09:30:45+00:00">2011-07-18 09:30</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>When an application encounters some performance issues, we have to find the code that causes the problem to optimize only what really matters. </p>
<p>To find the code we have to optimize, the profilers are really useful. In this post, we'll use the Linux perf tools to profile a simple C++ application. </p>
<p>The perf tools are integrated in the Linux kernel since the 2.6 version. The perf tools are based on the perf events subsystem. The perf profiler uses hardware counters to profile the application. The result of this profiler are really precise and because it is not doing instrumentation  of the code, it is really fast. </p>
<!--more-->

<h4>Installation</h4>

<p>First of all, if it is not already done, you have to install the perf tools on your computer. On Ubuntu, you can just use apt-get to install it : </p>
<pre>sudo apt-get install linux-tools</pre>

<p>On the other systems, just use your favorite package manager to install the perf tools. </p>
<h4>Usage</h4>

<p>To profile an application, you have to record information about an executation, for that, you just have to use perf record : </p>
<pre>perf record program [program_options]</pre>

<p>For example : </p>
<pre>perf record eddic assembly.eddi</pre>

<p>Once the execution is over, perf will gives you some information about the record, like: </p>
<pre>[ perf record: Woken up 44 times to write data ]

[ perf record: Captured and wrote 11.483 MB perf.data (~501721 samples) ]</pre>

<p>If you see that the size of the perf.data is really small, generally for small execution time, you can configure the event period in order to have more information with the --count=period option using a small period. I usually uses 1000, but it can be useful to use a smaller number when the application has a short execution time. </p>
<p>Then, to see the list of the most costly functions, you just have to use perf report : </p>
<pre>perf report</pre>

<p>It will display a list of the most costly functions ordered by cost. Here is an example taken from one of my C++ applications (the length of the function names is reduced to fit the screen) here : </p>
<pre># Events: 374K cycles
#
# Overhead         Command             Shared Object                                                                                                                               
# ........  ..............  ........................  ...............................................................
#
    87.58%        inlining  [vesafb]                  [k] 0xffffffff81100700
    83.27%         readelf  [vesafb]                  [k] 0xffffffff815c3930
    41.40%              sh  [vesafb]                  [k] 0xffffffff815c3930
    37.74%        inlining  libstdc++.so.6.0.14       [.] 0x653e0         
    12.49%         readelf  libc-2.13.so              [.] vfprintf
     5.37%        inlining  inlining                  [.] parseFunction(std::string, std::string, std::map
     5.20%         readelf  libc-2.13.so              [.] _IO_new_file_xsputn
     4.50%         readelf  readelf                   [.] 0x150e          
     4.10%        inlining  libc-2.13.so              [.] _int_malloc
     4.01%        inlining  libc-2.13.so              [.] memcpy
     3.80%         readelf  libc-2.13.so              [.] ___printf_chk
     2.58%        inlining  libc-2.13.so              [.] __malloc
     1.86%        inlining  libc-2.13.so              [.] _IO_fgets
     1.84%        inlining  inlining                  [.] parseExecutable(std::string, std::set
     1.83%         readelf  libc-2.13.so              [.] __strchrnul
     1.83%        inlining  libc-2.13.so              [.] _int_free
     1.77%        inlining  libc-2.13.so              [.] __strlen_sse42
     1.50%        inlining  libc-2.13.so              [.] cfree
     1.48%        inlining  libc-2.13.so              [.] __memchr
     1.23%        inlining  inlining                  [.] parseLibrary(std::string, std::se
     1.19%        inlining  libboost_graph.so.1.46.1  [.] char* std::string::_S_construct<char const>(char const*)
     1.17%         readelf  libc-2.13.so              [.] __dcigettext
     1.15%        inlining  libc-2.13.so              [.] _IO_getline_info_internal</char></pre>

<p>For every functions, you have the information about the cost of the function, the command used to launch it and the shared object in which the function is located. You can navigate through the list like in more utility. </p>
<p>This tool can be really useful to see which functions is interesting to optimize in order to increase the overall performance of the application. </p>
<p>For more information about the perf tools, you can read the <a href="https://perf.wiki.kernel.org/index.php/Main_Page" title="perf tools Wiki">perf wiki</a></p>
<p>In a future article, I will talk about another profiler, Callgrind.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/07/profile-applications-linux-perf-tools.html#disqus_thread" data-disqus-identifier="cache/posts/2011/07/profile-applications-linux-perf-tools.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/07/eddi-0-3-branches-conditions.html" class="u-url">EDDI 0.3 - Branches and conditions if, else if, else</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-07-07T08:42:21+00:00">2011-07-07 08:42</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>I just pushed a new version of EDDI on the Git repository : EDDI 0.3</p>
<p>This new version adds a new big features : Branches and condition. You can now use else / else if / else statements in EDDI code. So that a code like that will be executed :</p>
<div class="code"><pre><span class="k">if</span><span class="o">(</span><span class="mi">3</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">){</span>
    <span class="n">Print</span><span class="o">(</span><span class="s">"That's true. "</span><span class="o">);</span>
<span class="o">}</span>

<span class="k">if</span><span class="o">(</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">){</span>
    <span class="n">Print</span><span class="o">(</span><span class="s">"Try again"</span><span class="o">);</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="n">Print</span><span class="o">(</span><span class="s">"Good job"</span><span class="o">);</span>
<span class="o">}</span>

<span class="k">if</span><span class="o">(</span><span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="o">){</span>
    <span class="n">Print</span><span class="o">(</span><span class="s">"Not correct..."</span><span class="o">);</span>
<span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="mi">6</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="o">){</span> 
    <span class="n">Print</span><span class="o">(</span><span class="s">"Right"</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>


<p>and will give an output like this one : </p>
<pre>
That's true. 
Good job
Right
</pre>

<p>Now, there is no optimization made on the branches or the condition. I'm planning to make optimization when the condition doesn't depend on a variable so that I can automatically chose the good branch to execute. </p>
<p>To implement that branches, I use a common system with jumps and labels. The labels are special bytecode instructions read by the virtual machine and indicating the address of the next instruction. The condition are putting a 1 or a 0 on the stack and the JUMP_IF_NOT bytecode jump if there is a zero on the stack. </p>
<p>For the next feature of the language, I plan to add a for loop. But I'm currently thinking of stopping the development of the virtual machine and output directly assembly code instead of bytecode. Because I want to concentrate on the compiler and I don't care about portability in this particular case. Moreover, this will force me to learn deeply assembly code and enable me to make more optimization. But nothing is sure at this moment. </p>
<p>The sources are available on Github : </p>
<ul>
    <li>The compiler, eddic : https://github.com/wichtounet/eddic/</li>
    <li>The virtual machine, eddivm : https://github.com/wichtounet/eddivm/</li>
    <li>A commons library used by the two projects : https://github.com/wichtounet/eddi-commons/</li>
</ul>

<p>If you want to see the exact version reffered to in this subject, you can select the tag v0.3</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/07/eddi-0-3-branches-conditions.html#disqus_thread" data-disqus-identifier="cache/posts/2011/07/eddi-0-3-branches-conditions.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/book-review-accelerated-cpp.html" class="u-url">Book Review : Accelerated C++</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-06-29T09:07:18+00:00">2011-06-29 09:07</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>Because I started a project in C++ and had not a lot of knowledges about this language, I bought some books and just finished the first : Accelerated C++, written by Andrew Koenig and Barbara E. Moo</p>
<p>This book, as its name indicates, will not tell you anything about C++. It will teach you everything you need to know when starting developing applications in C++. As the authors said : </p>
<blockquote>you need to know everything in this book - even tough this book doesn't tell you everything you need to know</blockquote>

<p>This book is a really good book for people wanting to learn C++ quickly having knowledge in another language. It's not a good book if it's you first programming language, it will not tell you how to write a if/else statement. </p>
<p>This book takes a practical approach. For every notion you'll learn in the book, you practice it using some examples, improved chapter after chapter. Each chapter is also finished with a set of exercises that you can solve if you want to practice directly. In every chapter, you'll learn how to use the standard library utilities to makes coding easier, it's a really good point. </p>
<p>You'll start working with strings in a simple example project, then improve the project using the STL containers and algorithms. The sequential and the associative containers are studied. After using the generic functions from the STL, you'll write your own generic functions using templates. Once you got the basis, the authors teach you how to define your own types. You will then learn how to manage memory, More than defining types, you also will be able to write abstract types and use inheritance to solve problems. The authors will also show you a way to manage memory (almost) automatically using handles (smart pointers). And finally, you will revisit the first example improving it by using everything you learned so far. </p>
<p>To conclude, I have to say that this book is really a good one and I recommend it for every developer that want to switch from another language to C++</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/book-review-accelerated-cpp.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/book-review-accelerated-cpp.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/no-more-ads-on-the-site.html" class="u-url">No more ads on the site !</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-06-28T08:33:07+00:00">2011-06-28 08:33</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>Hi,</p>
<p>As you have perhaps noticed, there is no more Google Adsense on the site. I removed them for several reasons :</p>
<p></p><ul>
    <li>They were not really visually good</li>
    <li>They slowed down the site by a factor of two</li>
    <li>That gave a bad image of the site</li>
    <li>This is not the main goal of the website to make money</li>
    <li>They didn't made enough money to counter the previous disadvantages</li>
</ul>
<p>So you will now have a faster and a bit nicer website to look at :)</p>
<p>The only page that contains ads on the site is the search because of the use of Google Custom Search that includes Google Ads, but this is not my ads. I will perhaps consider to add another search system in the future.</p>
<p>I hope this will make the site more enjoyable</p>
<p>P.S. Is there is still a page with ads that I have forgotten to update, just let a comment with the URL of the page and I will remove the ads</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/no-more-ads-on-the-site.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/no-more-ads-on-the-site.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/eddi-0-2-1-integer-operations-and-optimizations.html" class="u-url">EDDI 0.2.1 : Integer operations and optimizations</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-06-27T08:33:33+00:00">2011-06-27 08:33</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>I've introduced a new feature in EDDI. You can now make computations on integers and string concatenations. </p>
<p>So you can now write this kind of thing with EDDI : </p>
<div class="code"><pre><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">4</span><span class="p">;</span>
<span class="n">Print</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Print</span><span class="p">(</span><span class="n">j</span> <span class="o">%</span> <span class="n">i</span><span class="p">);</span>
</pre></div>


<p>Adding computations has not been very difficult. The difficult thing has been to find a way to mange operators priorities. For now, I'm not really satisfied with the result, but it works. I will try to think of another way to make that in the future. </p>
<p>I've also introduced the first compile-time optimizations. When a computation is known to be constant a compile time, the computation is directly replaced with its result. </p>
<p>The next step will be to introduce branches and loops. </p>
<p>The sources are available on Github : </p>
<ul>
    <li>The compiler, eddic : https://github.com/wichtounet/eddic/</li>
    <li>The virtual machine, eddivm : https://github.com/wichtounet/eddivm/</li>
    <li>A commons library used by the two projects : https://github.com/wichtounet/eddi-commons/</li>
</ul>

<p>If you want to see the exact version reffered to in this subject, you can select the tag v0.2.1</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/eddi-0-2-1-integer-operations-and-optimizations.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/eddi-0-2-1-integer-operations-and-optimizations.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/eddi-0-2-types-and-variables.html" class="u-url">EDDI 0.2 : Integers and variables</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-06-20T08:34:25+00:00">2011-06-20 08:34</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>I just pushed the last commits of Eddi 0.2. </p>
<p>This new version allows the use of integers. You can declare int variables and pass int values or variables to the Print operation. </p>
<p>I've also refactored the compiled to use a kind of parse tree and several phases. But now, I'm not really satisfied with the design. The classes are too strongly coupled and the parse tree is too specific I think, too many assumptions are made during the semantical analysis. But now, I don't know how to improve that. I also think that the design and the operations will not support some more advanced adds later, I don't know... Don't hesitate if you have any idea or comment on the design :)</p>
<p>I've also made some changes to the Lexer in order to improve the performances, but nothing spectacular. </p>
<p>You can now compile this kind of code with Eddi : </p>
<div class="code"><pre><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">string</span> <span class="n">b</span> <span class="o">=</span> <span class="s">"asdf"</span><span class="p">;</span>
<span class="n">Print</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">Print</span><span class="p">(</span><span class="s">"Test"</span><span class="p">);</span>
<span class="n">Print</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
<span class="n">Print</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
<span class="n">b</span> <span class="o">=</span> <span class="s">"new b"</span><span class="p">;</span>
<span class="n">Prinb</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
</pre></div>


<p>The next changes will be to add operations on int and perhaps also the concat on two stirngs. I will see. I will also try to improve the design of the compiler if I found some ideas. </p>
<p>The sources are available on Github : </p>
<p></p><ul>
    <li>The compiler, eddic : https://github.com/wichtounet/eddic/</li>
    <li>The virtual machine, eddivm : https://github.com/wichtounet/eddivm/</li>
    <li>A commons library used by the two projects : https://github.com/wichtounet/eddi-commons/</li>
</ul>
<p>If you want to see the exact version reffered to in this subject, you can select the tag v0.2</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/eddi-0-2-types-and-variables.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/eddi-0-2-types-and-variables.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/install-specific-version-gcc-ubuntu.html" class="u-url">How to install a specific version of GCC on Ubuntu 11.04 (natty)</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-06-17T08:18:29+00:00">2011-06-17 08:18</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>Sometimes you need to install a specific version of gcc for some reasons, for example when you need to have the same compiler version as the one used by your team. </p>
<p>In that, the package manager doesn't help because not every version of gcc is packaged in every version of Ubuntu. So you must install it by hand and it can take a little time and there is some things that has to be done in order to work. </p>
<p>I'm talking here of Ubuntu 11.04 (natty), because this is the version I installed Ubuntu on. This procedure will certainly work but you could have a problem with some dependencies that are installed in natty and not in your version or in the contrary have a dependency already installed. </p>
<p>So this article will detail every step to install a specific version of gcc </p>
<!--more-->

<p>Personally, I've made the whole installation from the folder ~/dev/ . You can use this folder or use another one, but I recommend to you use an empty folder for that. When I will talk about the installation, I will refer to this folder.  </p>
<p>Note 1 : Because I wanted this new gcc to be my main compiler, I've directly installed everything in /usr/local/. If you want to install it in a specific folder, you can use the --prefix=FOLDER option fo the ./configure command. If you make so, you don't have to use the sudo before the make install unless you choose another directory where you don't have the right to write in. </p>
<p>Note 2 : If you have a multicore processor, you should use the -jX option with make where X is your number of core (you can make it +1). </p>
<p>Building gcc requires several libraries that are not installed by default. Let's start with GNU Multiple Precision Library (GMP). You can download the latest version (5.0.2 now) here : http://gmplib.org/ . Decompress the library in your installation folder and then use the followings commands : </p>
<pre>cd gmp_dir
./configure
make
make check
sudo make install</pre>

<p>You should have a message indicating that the libraries have been installed in your folder. </p>
<p>After that, you can install the GNU MPFR library (version 3.0.1 now), available here : http://www.mpfr.org/mpfr-current/#download . Unzip the file in your installation folder and type the following commands : </p>
<pre>cd mpfr_dir
./configure
make
make check
sudo make install</pre>

<p>You should see the same confirmation message than for the last installation. Then, you can install the last library, MPC (version 0.9 now), that you can download here : http://www.multiprecision.org/index.php?prog=mpc&amp;page=download . Once again, unzip the file and your installation folder and launch the same commands : </p>
<pre>cd mpfr_dir
./configure
make
make check
sudo make install</pre>

<p>Same confirmation message. </p>
<p>To prepare the installation of gcc, you have to type the given two commands : </p>
<pre>export C_INCLUDE_PATH=/usr/include/x86_64-linux-gnu 
export CPLUS_INCLUDE_PATH=/usr/include/x86_64-linux-gnu </pre>

<p>Here we are, you are ready to install gcc. Download the version you want to install here : http://gcc.gnu.org/releases.html and extract it on your installation folder. </p>
<p>Note : for those who have installed the first three libraries in different folder you have to indicate to ./configure where they are using the given command line options : --with-gmp=FOLDER, --with-mpfr=FOLDER and --with-mpg=FOLDER</p>
<p>Note : I installed gcc for C and C++, if you want to select other languages just tune the --enable-languages option and if you want every language, just remove this option. </p>
<p>Then create a directory on the same level as gcc sources dir : </p>
<pre>cd installation_folder
mkdir build
cd build</pre>

<p>and now from this folder, we can install everything : </p>
<pre>../gcc_dir/configure --enable-languages=c,c++
make
sudo make install</pre>

<p>Now it's time to take a coffee (or even two), because the full compilation can take a lot of time. </p>
<p>When the compilation is finished, you can try it with this command </p>
<pre>gcc --version</pre>

<p>that should give you the version you just installed. If it is not the case, verify that you did every step and if it's the case, take a look at the <a href="http://gcc.gnu.org/install/">official installation guide</a></p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/install-specific-version-gcc-ubuntu.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/install-specific-version-gcc-ubuntu.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/introduce-variables-on-eddi.html" class="u-url">EDDI 0.1.1 : Variables</a>
        <br><small>  
             Posted: <time class="published dt-published" datetime="2011-06-16T08:15:35+00:00">2011-06-16 08:15</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p>The version 0.1.1 of EDDI is now available. </p>
<p>This new version introduce the feature to put variable on the code. You can now write things like that : </p>
<div class="code"><pre><span class="n">a</span> <span class="o">=</span> <span class="s">"Variable a"</span><span class="p">;</span>
<span class="n">b</span> <span class="o">=</span> <span class="s">"Variable b"</span><span class="p">;</span>
<span class="n">Print</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
<span class="n">Print</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
</pre></div>


<p>And you can also reassign value to a variable and assign the value of a variable to another : </p>
<div class="code"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="n">b</span> <span class="o">=</span> <span class="s">"New variable b"</span><span class="p">;</span>
</pre></div>


<p>Nothing extraordinary, but it's a start. The variable name are compiled into integers and a table of variable has been made on the virtual machine. </p>
<p>The last step will be to introduce a new type : the integers. But for this integration, I'm not exactly sure on how to do that. I will certainly create a string pool and put only references to the strings on the stack, but it's not clearly defined. Don't hesitate if you have any comment :)</p>
<p>The project is available on Github : </p>
<p></p><ul>
    <li>The compiler, eddic : https://github.com/wichtounet/eddic/</li>
    <li>The virtual machine, eddivm : https://github.com/wichtounet/eddivm/</li>
    <li>A commons library used by the two projects : https://github.com/wichtounet/eddi-commons/</li>
</ul>
<p>If you want to see the exact version reffered to in this subject, you can select the tag v0.1.1.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/introduce-variables-on-eddi.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/introduce-variables-on-eddi.html">Comments</a>


        </p></article>
    
        <div>
        <ul class="pager">
            <li class="previous">
                <a href="index-15.html" rel="prev">← Newer posts</a>
            </li>
            <li class="next">
                <a href="index-13.html" rel="next">Older posts →</a>
            </li>
        </ul>
        </div>

    
        
       <script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>


	


            </div>
        </div>
    </div>
</div>

<!-- Footer -->

<footer>
    Contents © 2014         <a href="mailto:baptistewicht@gmail.com">Baptiste Wicht</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/4.0/88x31.png"></a>
        <ul class="footer_inline_ul">
            
        </ul>
</footer>


            <script src="assets/js/all-nocdn.js" type="text/javascript"></script>


<!-- Late loading stuff  -->

    <script type="text/javascript">
      $(document).ready(function() {
        jQuery.getJSON('/assets/js/tag_cloud_data.json', function(data) {
            var items = [];

            $.each(data, function(key, val) {
                items.push('<li><a href="' + val[1] +'" '+'data-weight="'+val[0]+'"'+'>' + key + '</a></li>');
            });

            $('<div/>', {
                'id': 'tags',
                html: '<ul>' + items.join('') + '</ul>'
            }).appendTo('body');

            if(!$('#tags_canvas').tagcanvas({
                textColour: '#FFFFFF',
                outlineColour: '#ff00ff',
                reverse: true,
                depth: 0.8,
                maxSpeed: 0.05,
                weight: true,
                weightFrom: "data-weight",
                weightSizeMin: 8,
                weightSizeMax: 24
            },'tags')) {
                //something went wrong, hide the canvas container
                $('#tags_container').hide();
            }});
        });
    </script>

<!-- Google platform JS -->
    
<script type="text/javascript" src="https://apis.google.com/js/platform.js"></script>


    
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5327566b264df4ee"></script>
<script type="text/javascript">
  addthis.layers({
    'theme' : 'dark',
    'share' : {
      'position' : 'right',
      //'services' : 'google_plusone,facebook_like,tweet',
      'services' : 'google_plusone_share,facebook,twitter'
    }, 
    'follow' : {
      'services' : [
        {'service': 'twitter', 'id': 'wichtounet'},
        {'service': 'google_follow', 'id': '+BaptisteWicht'}
      ]
    }   
  });
</script>



<!-- Tipue Search -->

<script type="text/javascript" src="assets/js/tipuesearch_set.js"></script>
<script type="text/javascript" src="assets/js/tipuesearch.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('#tipue_search_input').tipuesearch({
        'mode': 'json',
        'contentLocation': '/assets/js/tipuesearch_content.json',
        'showUrl': false
        });
        });
</script>

<script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>






</body>
</html>